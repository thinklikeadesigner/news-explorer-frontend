{"version":3,"sources":["utils/MainApi.js","utils/hooks/mediaquery.js","components/Card/Card.js","components/CardsList/CardsList.js","contexts/CurrentUserContext.js","utils/constants/constants.js","utils/NewsApi.js","utils/auth.js","components/InfoToolTip/InfoToolTip.js","components/NothingFound/NothingFound.js","components/Preloader/Preloader.js","components/Popup/Input.js","components/Popup/Popup.js","components/Popup/NewRegister/NewRegister.js","components/Popup/NewLogin/NewLogin.js","components/Header/Header.js","images/avatar.png","components/About/About.js","components/Footer/Footer.js","components/SearchForm/SearchForm.js","components/Navigator/Navigator.js","components/Search/Search.js","components/Main/Main.js","components/Card/NewsCard.js","components/CardsList/NewsCardsList.js","components/SavedArticles/SavedArticles.js","components/SavedNewsPage/SavedNewsPage.js","components/HOC/ProtectedRoute.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["baseUrl","checkResponse","res","ok","console","log","json","Promise","reject","statusText","removeArticle","articleId","fetch","headers","Accept","Authorization","localStorage","getItem","method","then","useMediaQuery","query","mediaMatch","window","matchMedia","useState","matches","setMatches","useEffect","handler","e","addListener","removeListener","Card","props","cardId","setCardId","isCardSaved","setIsCardSaved","isShown","setIsShown","isMobile","className","keyword","loggedIn","onMouseEnter","onMouseLeave","onClick","preventDefault","saveApi","catch","err","title","text","date","source","link","image","body","JSON","stringify","_id","disabled","src","alt","articleDate","noTime","slice","Date","getMonth","getDate","getFullYear","formatDate","CardsList","displayedCards","setDisplayedCards","isButtonVisible","setIsButtonVisible","count","setCount","useLayoutEffect","cards","length","map","card","index","buttonType","description","publishedAt","name","url","urlToImage","savedArticles","isSaved","onCardLike","CurrentUserContext","React","createContext","headerTitleBlack","headerTitleWhite","headerBgWhite","headerBgTransparent","search","today","lastWeek","articles","InfoToolTip","isOpen","isItSuccess","onClose","to","aria-label","type","NothingFound","noResults","resultError","Preloader","Input","htmlFor","required","id","form","minLength","minlength","maxLength","maxlength","value","onChange","handleChange","placeholder","placeholderText","valid","errorText","Popup","onSubmit","handleSubmit","action","noValidate","children","buttonText","linkClick","NewRegister","isEmailValid","setIsEmailValid","email","setEmail","isUserValid","setIsUserValid","user","setUser","isPasswordValid","setIsPasswordValid","password","setPassword","formValid","setFormValid","allValid","target","closest","checkValidity","isRegisterPopupOpen","message","test","validateEmail","NewLogin","isLoginPopupOpen","Header","headerBg","headerTitle","About","avatar","Footer","href","rel","Component","SearchForm","setKeyword","keywordValid","setKeywordValid","searchField","document","querySelector","enableSearch","style","pointerEvents","onSearch","setTimeout","onFocus","Navigator","navBarLink","onNavBarClick","onLogOut","onSignIn","Search","Main","currentUser","useContext","onSavedNewsClick","headerButton","noSearch","NewsCard","onDelete","NewsCardsList","savedCards","SavedArticles","SavedNewsPage","setSavedCards","setLength","onHomeClick","keywords","forEach","push","keywordsList","arr","frequency","filter","sort","a","b","sortByOccurance","keywordsDisplay","join","getKeywords","cardID","newCards","c","ProtectedRoute","component","signInRedirect","App","history","useHistory","jwt","setCards","setSelectedCard","setIsLoginPopupOpen","setIsRegisterPopupOpen","setIsPopupOpen","setCurrentUser","setLoggedIn","setMessage","isInfoToolTipOpen","setIsInfoToolTipOpen","isSuccess","setSuccess","isNavOpen","setIsNavOpen","isSavedNewsPage","setIsSavedNewsPage","handleNavOpen","handleSignInClick","handleInfoToolTip","handleLogOut","removeItem","closeAllPopups","setResults","setNoSearch","setNoResults","setResultError","results","loading","setLoading","token","auth","Provider","path","api","exact","setItem","status","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"kjBAAQA,EAAkD,oDAE1D,SAASC,EAAcC,GACrB,GAAIA,EAAIC,GAEN,OADAC,QAAQC,IAAI,OACLH,EAAII,OAEXC,QAAQC,OAAO,SAAWN,EAAIO,YAiD3B,SAASC,EAAcC,GAC5B,OAAOC,MAAMZ,EAAO,aAAkBW,EAAW,CAC/CE,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYC,aAAaC,QAAQ,WAEhDC,OAAQ,WACPC,MAAK,SAACjB,GACPE,QAAQC,IAAI,WAAYH,GACxBD,EAAcC,MChEX,IAAMkB,EAAgB,SAACC,GAC5B,IAAMC,EAAaC,OAAOC,WAAWH,GADC,EAERI,mBAASH,EAAWI,SAFZ,mBAE/BA,EAF+B,KAEtBC,EAFsB,KAStC,OALAC,qBAAU,WACR,IAAMC,EAAU,SAAAC,GAAC,OAAIH,EAAWG,EAAEJ,UAElC,OADAJ,EAAWS,YAAYF,GAChB,kBAAMP,EAAWU,eAAeH,OAElCH,G,eCwGMO,MA9Gf,SAAcC,GAAQ,IAAD,EACST,mBAAS,IADlB,mBACZU,EADY,KACJC,EADI,OAEmBX,oBAAS,GAF5B,mBAEZY,EAFY,KAECC,EAFD,OAGWb,oBAAS,GAHpB,mBAGZc,EAHY,KAGHC,EAHG,KAKbC,EAAWrB,EAAc,sBA2D/B,OACE,qBAAIsB,UAAU,OAAd,UACE,qBAAKA,UAAU,2BAAf,SACE,qBAAKA,UAAU,sBAAf,SACE,mBAAGA,UAAU,iBAAb,SAA+BR,EAAMS,cAGzC,sBAAKD,UAAU,4BAAf,UACGH,IAAYL,EAAMU,WAAaH,GAC9B,qBAAKC,UAAU,iBAAf,SACE,mBAAGA,UAAU,sBAAb,wCAGJ,qBAAKA,UAAU,qBACf,qBACEA,UAAU,4BACVG,aAAc,kBAAML,GAAW,IAC/BM,aAAc,kBAAMN,GAAW,IAHjC,SAKE,wBACEE,UAAS,yBACPL,EAAc,uBAAyB,MAEzCU,QA9EV,SAAyBjB,GACvB1B,QAAQC,IAAI8B,GACZL,EAAEkB,iBACEX,EAEAY,EACiBd,GACdhB,MAAK,WACJmB,GAAe,MAEhBY,OAAM,SAACC,GAAD,OAAS/C,QAAQC,IAAI8C,MFb/B,YAQH,IAPFR,EAOC,EAPDA,QACAS,EAMC,EANDA,MACAC,EAKC,EALDA,KACAC,EAIC,EAJDA,KACAC,EAGC,EAHDA,OACAC,EAEC,EAFDA,KACAC,EACC,EADDA,MAEA,OAAO7C,MAAMZ,EAAU,YAAa,CAClCa,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYC,aAAaC,QAAQ,WAEhDC,OAAQ,OACRwC,KAAMC,KAAKC,UAAU,CACnBjB,UACAS,QACAC,OACAC,OACAC,SACAC,OACAC,YAEDtC,MAAK,SAACjB,GAEP,GADAE,QAAQC,IAAI,cAAeH,GACvBA,EAAIC,GAEN,OADAC,QAAQC,IAAI,OACLH,EAAII,OAEXC,QAAQC,OAAO,SAAWN,EAAIO,eEf9BwC,CACe,CACXN,QAAST,EAAMS,QACfS,MAAOlB,EAAMkB,MACbC,KAAMnB,EAAMmB,KACZC,KAAMpB,EAAMoB,KACZC,OAAQrB,EAAMqB,OACdC,KAAMtB,EAAMsB,KACZC,MAAOvB,EAAMuB,QAEdtC,MAAK,SAACjB,GACLkC,EAAUlC,EAAI2D,KACdvB,GAAe,OAsDbwB,UAAW5B,EAAMU,gBAIvB,qBAGEmB,IAAK7B,EAAMuB,MACXf,UAAU,YAEVsB,IAAK,cAEP,sBAAKtB,UAAU,aAAf,UACE,mBAAGA,UAAU,aAAb,SA7DN,WACE,IAAIuB,EAAc/B,EAAMoB,KAepBY,EAAM,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAaE,MAAM,EAAG,IAC/Bb,EAAO,IAAIc,KAAKF,GAIpB,MAHiB,UAhBF,CACb,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAKOZ,EAAKe,YADG,YAEbf,EAAKgB,UAFQ,cAEOhB,EAAKiB,eAyCEC,KAC3B,oBAAI9B,UAAU,cAAd,SAA6BR,EAAMkB,QACnC,mBAAGV,UAAU,kBAAb,SAAgCR,EAAMmB,OACtC,mBAAGX,UAAU,eAAb,SAA6BR,EAAMqB,gB,MCrGpC,SAASkB,EAAUvC,GAAQ,IAAD,EACaT,mBAAS,IADtB,mBACxBiD,EADwB,KACRC,EADQ,OAGelD,oBAAS,GAHxB,mBAGxBmD,EAHwB,KAGPC,EAHO,OAILpD,mBAAS,GAJJ,mBAIxBqD,EAJwB,KAIjBC,EAJiB,KAoB/B,OAdAC,2BAAgB,WAAO,IAAD,IAClBL,EAAiB,UAACzC,EAAM+C,aAAP,aAAC,EAAad,MAAM,EAAGW,KACpC,UAAA5C,EAAM+C,aAAN,eAAaC,QAASJ,EACxBD,GAAmB,GAEnBA,GAAmB,KAGtB,CAAC3C,EAAM+C,MAAOH,IAOf,qCACC,oBAAIpC,UAAU,gBAAd,4BACC,0BAASA,UAAU,QAAnB,UACE,oBAAIA,UAAU,cAAd,gBACIgC,QADJ,IACIA,OADJ,EACIA,EAAgBS,KAAI,SAACC,EAAMC,GACvB,OACE,cAAC,EAAD,CAEE1C,QAAST,EAAMS,QACf2C,WAAY,iBACZlC,MAAOgC,EAAKhC,MACZC,KAAM+B,EAAKG,YACXjC,KAAM8B,EAAKI,YACXjC,OAAQ6B,EAAK7B,OAAOkC,KACpBjC,KAAM4B,EAAKM,IACXjC,MAAO2B,EAAKO,WACZC,cAAe1D,EAAM0D,cAGrBhD,SAAUV,EAAMU,SAChBiD,QAAS3D,EAAM2D,QACfC,WAAY5D,EAAM4D,YAdbT,QAoBxBT,GAAmB,wBACVlC,UAAS,yBAETK,QAAS,kBAAMgC,EAASD,EAAQ,IAHtB,6BCtDZ,IAAMiB,EAAqBC,IAAMC,gBCFnCC,EAAmB,sBACnBC,EAAmB,sBAEnBC,EAAe,0BACfC,EAAuB,gCCc7B,IAEaC,EAAS,SAAC3D,GAErB,IAAI4D,EAAQ,IAAInC,KACZoC,EAAW,IAAIpC,KAAKmC,EAAMhC,cAAegC,EAAMlC,WAAYkC,EAAMjC,UAAY,GAEjF,OAAO1D,MAAM,GAAD,OAP4C,8CAO5C,cAAkB+B,EAAlB,iBAAkC6D,EAAlC,cAAgDD,EAAhD,kDDbE,oCCawG,IAEpHpF,MAAK,SAACjB,GAAD,OApBT,SAAuBA,GACrB,GAAIA,EAAIC,GACN,OAAOD,EAAII,OAEXC,QAAQC,OAAO,SAAWN,EAAIO,YAgBhBR,CAAcC,MAAMiB,MAAK,SAACjB,GAAD,OAASA,EAAIuG,aCvBhDzG,EAAkD,oDAE1D,SAASC,EAAcC,GACrB,GAAIA,EAAIC,GACN,OAAOD,EAAII,OAEXC,QAAQC,OAAO,SAAWN,EAAIO,Y,MCmCnBiG,MAxCR,SAAqBxE,GAC1B,OACE,qBACEQ,UAAS,2BAAsBR,EAAMuD,KAA5B,YACPvD,EAAMyE,OAAS,aAAe,IAFlC,SAKE,sBAAKjE,UAAU,mBAAf,UACE,qBAAKA,UAAU,cAAf,SACGR,EAAM0E,YACL,qCACE,qBAAIlE,UAAU,uBAAd,UACG,IADH,yCAEyC,OAEzC,eAAC,IAAD,CACEK,QAASb,EAAM2E,QACfnE,UAAU,oBACVoE,GAAG,OAHL,oBAKU,UAIZ,qBAAIpE,UAAU,uBAAd,4DACkD,SAItD,wBACEqE,aAAW,eACXC,KAAK,QACLtE,UAAS,kDAA6CR,EAAMuD,MAC5D1C,QAASb,EAAM2E,gB,MClClB,SAASI,EAAa/E,GAG3B,OACE,mCACE,sBACEQ,UAAS,sBADX,UAIE,qBAAKA,UAAU,uBACf,oBAAIA,UAAU,uBAAd,SAAsCR,EAAMgF,YAAchF,EAAMiF,YAAc,gBAAkB,yBAChG,mBAAGzE,UAAU,0BAAb,SACGR,EAAMgF,YAAchF,EAAMiF,YAAc,gDAAkD,4I,MCZ9F,SAASC,EAAUlF,GACxB,OACE,mCACE,sBACEQ,UAAS,kBADX,UAIE,qBAAKA,UAAU,6BAAf,SACE,mBAAGA,UAAU,uBAEf,mBAAGA,UAAU,sBAAb,wC,MCgBO2E,MA7Bf,SAAenF,GACb,OACE,qCACE,uBAAOoF,QAASpF,EAAMuD,KAAM/C,UAAU,oBAAtC,SACGR,EAAMuD,OAET,uBACE8B,UAAQ,EACRC,GAAItF,EAAMuD,KAAO,IAAMvD,EAAMuF,KAC7BC,UAAWxF,EAAMyF,UACjBC,UAAW1F,EAAM2F,UACjBnF,UAAU,cACVsE,KAAM9E,EAAM8E,KACZvB,KAAMvD,EAAMuD,KACZqC,MAAO5F,EAAM4F,MACbC,SAAU7F,EAAM8F,aAChBC,YAAa/F,EAAMgG,kBAErB,uBACExF,UAAS,4BACPR,EAAMiG,MAAQ,GAAK,6BAErBX,GAAG,mBAJL,UAMGtF,EAAMkG,UAAW,WCrBnB,SAASC,EAAMnG,GAIpB,OACE,qBAAKQ,UAAS,iBAAYR,EAAMyE,OAAS,aAAe,IAAxD,SAEE,qBAAKjE,UAAU,mBAAf,SACE,uBACE4F,SAAUpG,EAAMqG,aAChBC,OAAO,IACP9F,UAAS,OAET+F,YAAU,EALZ,UAOE,oBAAI/F,UAAU,eAAd,SAA8BR,EAAMkB,QAEnClB,EAAMwG,SACP,wBACE3B,aAAW,eACXC,KAAK,QACLtE,UAAS,uBACTK,QAASb,EAAM2E,UAEjB,wBACEiB,MAAO5F,EAAMyG,WACb3B,KAAK,SACLtE,UAAS,uBACPR,EAAMiG,MAAQ,GAAK,yBAErBrE,UA5BA5B,EAAMiG,MAsBR,SAQGjG,EAAMyG,aAET,qBAAKjG,UAAU,uBAAf,SACE,uBAAMA,UAAU,kBAAhB,eACK,IACH,wBAAQK,QAASb,EAAM0G,UAAWlG,UAAS,aAA3C,SACGR,EAAMsB,mBCpChB,SAASqF,EAAY3G,GAAQ,IAAD,EAGOT,oBAAS,GAHhB,mBAG1BqH,EAH0B,KAGZC,EAHY,OAIPtH,mBAAS,IAJF,mBAI1BuH,EAJ0B,KAInBC,EAJmB,OAKKxH,oBAAS,GALd,mBAK1ByH,EAL0B,KAKbC,EALa,OAMT1H,mBAAS,IANA,mBAM1B2H,EAN0B,KAMpBC,EANoB,OAOa5H,oBAAS,GAPtB,mBAO1B6H,EAP0B,KAOTC,EAPS,OAQD9H,mBAAS,IARR,mBAQ1B+H,EAR0B,KAQhBC,EARgB,OASChI,oBAAS,GATV,mBAS1BiI,EAT0B,KASfC,EATe,KAoCjC,SAASC,EAAS9H,GAChB6H,EAAa7H,EAAE+H,OAAOC,QAAQ,QAAQC,iBAexC,OACE,eAAC1B,EAAD,CACE1B,OAAQzE,EAAM8H,oBACdrB,WAAW,UACX9B,QAAS3E,EAAM2E,QACfzD,MAAM,UACNI,KAAK,UACLoF,UAAW1G,EAAM0G,UACjBL,aArBJ,SAAsBzG,GACpBA,EAAEkB,iBACFd,EAAMqG,aAAa,CAAES,QAAOQ,WAAU/D,KAAM2D,IAK5CH,EAAS,IACTQ,EAAY,IACZJ,EAAQ,KAaNlB,MAAOuB,EACPO,QAAS/H,EAAM+H,QATjB,UAYE,cAAC,EAAD,CACEjD,KAAK,QACLvB,KAAK,QACLgC,KAAK,UACLO,aArDN,SAA2BlG,GACzBmH,EAASnH,EAAE+H,OAAO/B,OAClBiB,EAPF,SAAuBC,GAErB,MADc,eACDkB,KAAKlB,GAKFmB,CAAcnB,IAC9BY,EAAS9H,IAmDLsG,UAAU,wBACVF,gBAAgB,cAChBC,MAAOW,EACPnB,UAAU,IACVc,YAAU,EACVX,MAAOkB,EACPnB,UAAU,OAIZ,cAAC,EAAD,CACEF,UAAU,IACVQ,MAAOmB,EACPlB,UAAU,0CACVK,YAAU,EACVX,MAAO0B,EACP3B,UAAU,MACVb,KAAK,WACLvB,KAAK,WACLgC,KAAK,UACLO,aArEN,SAA8BlG,GAC5B2H,EAAY3H,EAAE+H,OAAO/B,OACjB0B,EAAStE,OAAS,EACpBqE,GAAmB,GAEnBA,GAAmB,GAErBK,EAAS9H,IA+DLoG,gBAAgB,mBAGlB,cAAC,EAAD,CACEP,UAAU,IACVS,UAAU,gBACVK,YAAU,EACVX,MAAOsB,EACPvB,UAAU,MACVb,KAAK,OACLvB,KAAK,OACLgC,KAAK,UACLO,aAzEN,SAA0BlG,GACxBuH,EAAQvH,EAAE+H,OAAO/B,OACjBqB,GAAe,GAEfS,EAAS9H,IAsELqG,MAAOe,EACPhB,gBAAgB,kBCzGjB,SAASkC,EAASlI,GAAQ,IAAD,EACUT,oBAAS,GADnB,mBACvBqH,EADuB,KACTC,EADS,OAEJtH,mBAAS,IAFL,mBAEvBuH,EAFuB,KAEhBC,EAFgB,OAGgBxH,oBAAS,GAHzB,mBAGvB6H,EAHuB,KAGNC,EAHM,OAIE9H,mBAAS,IAJX,mBAIvB+H,EAJuB,KAIbC,EAJa,OAKIhI,oBAAS,GALb,mBAKvBiI,EALuB,KAKZC,EALY,KAyB9B,SAASC,EAAS9H,GAChB6H,EAAa7H,EAAE+H,OAAOC,QAAQ,QAAQC,iBAexC,OACE,eAAC1B,EAAD,CACE1B,OAAQzE,EAAMmI,iBACd1B,WAAW,UACX9B,QAAS3E,EAAM2E,QACfzD,MAAM,UACNI,KAAK,UACLoF,UAAW1G,EAAM0G,UACjBL,aArBJ,SAA4BzG,GAC1BA,EAAEkB,iBACFd,EAAMqG,aAAa,CAAES,QAAOQ,aAK5BP,EAAS,IACTQ,EAAY,KAcVtB,MAAOuB,EACPO,QAAS/H,EAAM+H,QATjB,UAWE,cAAC,EAAD,CAEEjD,KAAK,QACLvB,KAAK,QACLgC,KAAK,UACLO,aA/CN,SAA2BlG,GACzBmH,EAASnH,EAAE+H,OAAO/B,OAClBiB,EANF,SAAuBC,GAErB,MADc,eACDkB,KAAKlB,GAIFmB,CAAcnB,IAC9BY,EAAS9H,IA6CLsG,UAAU,wBACVD,MAAOW,EACPZ,gBAAgB,cAChBP,UAAU,IACVc,YAAU,EACVX,MAAOkB,EACPnB,UAAU,OAGZ,cAAC,EAAD,CACEb,KAAK,WACLvB,KAAK,WACLgC,KAAK,UACLO,aAvDN,SAA8BlG,GAC5B2H,EAAY3H,EAAE+H,OAAO/B,OACjB0B,EAAStE,OAAS,GACpBqE,GAAmB,GAErBK,EAAS9H,IAmDLoG,gBAAgB,iBAChBC,MAAOmB,EACP3B,UAAU,IACVS,UAAU,0CACVK,YAAU,EACVX,MAAO0B,EACP3B,UAAU,W,MClFX,SAASyC,EAAOpI,GAGrB,OACE,wBAAQQ,UAAS,UAAjB,SAEE,sBAAKA,UAAS,4BAAuBR,EAAMqI,UAA3C,UACE,mBAAG7H,UAAS,wBAAmBR,EAAMsI,aAArC,0BACA,qBAAK9H,UAAU,cAAf,SAA8BR,EAAMwG,gB,UCX7B,MAA0B,mCCyB1B+B,MArBf,WACE,OACE,yBAAS/H,UAAU,QAAnB,SACE,sBAAKA,UAAU,kBAAf,UACE,qBAAKqB,IAAK2G,EAAQ1G,IAAI,SAAStB,UAAU,eACzC,sBAAKA,UAAU,cAAf,UACE,oBAAIA,UAAU,oBAAd,8BACA,mBAAGA,UAAU,mBAAb,oJAIA,mBAAGA,UAAU,mBAAb,gJ,wCCXGiI,G,MAAb,4JACE,WACE,OACE,wBAAQjI,UAAU,SAAlB,SACE,sBAAKA,UAAU,oBAAf,UACE,qBAAKA,UAAU,8BAAf,SACE,mBAAGA,UAAU,oBAAb,wDAIF,sBAAKA,UAAU,kBAAf,UACE,qBAAIA,UAAU,0BAAd,UACE,oBAAIA,UAAU,qBAAd,SACE,cAAC,IAAD,CAAMA,UAAU,eAAeoE,GAAG,IAAlC,SACE,mBAAGpE,UAAU,gBAAb,sBAGJ,oBAAIA,UAAU,qBAAd,SACE,mBACEA,UAAU,eACVkI,KAAK,gCACLf,OAAO,IACPgB,IAAI,aAJN,SAME,mBAAGnI,UAAU,gBAAb,wCAIN,qBAAIA,UAAU,yDAAd,UACE,oBAAIA,UAAU,qBAAd,SACE,mBAAGkI,KAAK,4BAA4Bf,OAAO,IAAIgB,IAAI,aAAnD,SACE,qBAAKnI,UAAU,0DAGnB,oBAAIA,UAAU,qBAAd,SACE,mBAAGkI,KAAK,sBAAsBf,OAAO,IAAIgB,IAAI,aAA7C,SACE,qBAAKnI,UAAU,sEApCjC,GAA4BsD,IAAM8E,Y,MC8EnBC,MA9Ef,SAAoB7I,GAAQ,IAAD,EACKT,mBAAS,IADd,mBAClBkB,EADkB,KACTqI,EADS,OAEevJ,oBAAS,GAFxB,mBAElBwJ,EAFkB,KAEJC,EAFI,KAGnBC,EAAcC,SAASC,cAAc,sBAa3C,SAASC,IACPH,EAAYI,MAAMC,cAAgB,OAClCL,EAAYrH,UAAW,EAgBzB,OACE,mCACE,yBAASpB,UAAU,cAAnB,SACE,sBAAKA,UAAU,wBAAf,UACE,oBAAIA,UAAU,qBAAd,2CACA,mBAAGA,UAAU,wBAAb,uFAIA,sBAAKA,UAAU,wBAAf,UACE,uBAAMA,UAAU,mBAAmB4F,SAxB7C,SAAoBxG,GAClBA,EAAEkB,iBARFmI,EAAYI,MAAMC,cAAgB,OAClCL,EAAYrH,UAAW,EASlBnB,GAILT,EAAMuJ,SAAS9I,GACf+I,WAAWJ,EAAc,KACzBN,EAAW,KALTM,KAoBM,UACE,uBACEvD,SAzCd,SAAwBjG,GACtBkJ,EAAWlJ,EAAE+H,OAAO/B,OACJ,KAAZnF,IACFuI,GAAgB,GAChBE,SAASC,cAAc,uBAAuBvH,UAAW,IAsC/C6H,QAAS,kBAAMT,GAAgB,IAC/BxI,UAAU,oBACVuF,YAAY,cACZH,MAAOnF,IAGT,wBACED,UAAS,6BACPuI,EAAe,GAAK,+BAEtBjE,KAAK,SACLlD,UAAQ,EALV,uBAUF,sBACEpB,UAAS,4BACPuI,EAAe,GAAK,6BAEtBzD,GAAG,mBAJL,+C,YC1DL,SAASoE,EAAU1J,GACxB,IAAM2J,EAAa3J,EAAMU,SACvB,qCACE,cAAC,IAAD,CAAMG,QAASb,EAAM2E,QAASC,GAAG,QAAQpE,UAAS,kBAAlD,kBAGA,cAAC,IAAD,CACEK,QAASb,EAAM2E,QACfC,GAAG,iBACHpE,UAAS,yCAHX,+BASF,cAAC,IAAD,CAAMK,QAASb,EAAM2E,QAASC,GAAG,QAAQpE,UAAS,mBAAlD,kBAKF,OACE,mCACE,sBAAKA,UAAS,oBAAeR,EAAMyE,OAAS,GAAK,oBAAjD,UACE,cAAC,EAAD,CAAQ6D,YAAarE,EAAkBoE,Sf3BxB,0Be2Bf,SACE,wBACExH,QAASb,EAAM4J,cACfpJ,UAAS,uBAAkB,sBAG/B,qBAAKA,UAAU,sBAAf,SACE,qBAAKA,UAAS,qBAAd,SACE,sBAAKA,UAAU,mBAAf,UACGmJ,EACD,wBACE9I,QAASb,EAAMU,SAAWV,EAAM6J,SAAW7J,EAAM8J,SACjDtJ,UAAS,iBAFX,SAIGR,EAAMU,SAAW,UAAY,wB,MCxCvC,SAASqJ,EAAO/J,GACrB,OACE,mCACE,yBAASQ,UAAU,SAAnB,SACE,qBAAKA,UAAU,oBAAf,SAAoCR,EAAMwG,eCW3C,SAASwD,EAAKhK,GACnB,IAAMiK,EAAcnG,IAAMoG,WAAWrG,GAC/BtD,EAAWrB,EAAc,sBAEzBwE,EAAgB1D,EAAMU,SAC1B,cAAC,IAAD,CACEG,QAASb,EAAMmK,iBACfvF,GAAG,gBACHpE,UAAS,0BAHX,4BAOE,KAEE4J,EAAepK,EAAMU,SACzB,yBACEG,QAASb,EAAM6J,SACfrJ,UAAS,sCAFX,UAIGyJ,EAAY1G,KACb,qBAAK/C,UAAS,qBAGhB,wBACEK,QAASb,EAAM8J,SACftJ,UAAS,6DAFX,qBASF,OACE,mCACE,uBAAMA,UAAU,OAAhB,UACE,sBAAKA,UAAU,mBAAf,UACGD,EACC,qCACE,cAAC,EAAD,CACE+H,YAAarE,EACboE,SAAUlE,EAFZ,SAIE,wBACEtD,QAASb,EAAM4J,cACfpJ,UAAS,uBjBxDJ,oCiB2DT,cAAC,EAAD,CACEiE,OAAQzE,EAAMyE,OACdmF,cAAe5J,EAAM4J,cACrBE,SAAU9J,EAAM8J,SAChBnG,QAAS3D,EAAM2D,QACfjD,SAAUV,EAAMU,SAChBmJ,SAAU7J,EAAM6J,SAChBM,iBAAkBnK,EAAMmK,iBACxBxF,QAAS3E,EAAM2E,aAInB,eAAC,EAAD,CACE2D,YAAarE,EACboE,SAAUlE,EAFZ,UAIE,mBAAG3D,UAAS,wCAAZ,kBACCkD,EACA0G,KAIL,cAAC,EAAD,CAAYb,SAAUvJ,EAAMuJ,eAEnCvJ,EAAMqK,UACC,cAAC,EAAD,CACE1G,QAAS3D,EAAM2D,QACfjD,SAAUV,EAAMU,SAChB0C,WAAY,iBAHd,SAQTpD,EAAMwG,WAIC,cAAC,EAAD,IACA,cAAC,EAAD,S,kBCHO8D,MA9Ff,SAAkBtK,GAAQ,IAAD,EACKT,mBAAS,IADd,mBACRW,GADQ,aAEeX,oBAAS,GAFxB,gCAGOA,oBAAS,IAHhB,mBAGhBc,EAHgB,KAGPC,EAHO,KAIjBC,EAAWrB,EAAc,sBA4C/B,OACE,qBAAIsB,UAAU,OAAd,UACE,qBAAKA,UAAU,2BAAf,SACE,qBAAKA,UAAU,sBAAf,SACE,mBAAGA,UAAU,iBAAb,SAA+BR,EAAMS,cAGzC,sBAAKD,UAAU,4BAAf,UACCH,IAAYE,GACX,qBAAKC,UAAU,iBAAf,SACE,mBAAGA,UAAU,sBAAb,iCAKJ,qBAAKA,UAAU,qBACf,qBAAKA,UAAU,4BACLG,aAAc,kBAAML,GAAW,IAC/BM,aAAc,kBAAMN,GAAW,IAFzC,SAIN,wBAEUE,UAAS,mBACTK,QA/DV,SAA2BjB,GACzBA,EAAEkB,iBACEd,EAAMC,SACRC,EAAUF,EAAMC,QAChBc,EACiBf,EAAMC,QACpBhB,MAAK,WACJe,EAAMuK,SAASvK,EAAMC,WAEtBe,OAAM,SAACC,GAAD,OAAS/C,QAAQC,IAAI8C,eA2D5B,qBAGEY,IAAK7B,EAAMuB,MACXf,UAAU,YAEVsB,IAAK,cAEP,sBAAKtB,UAAU,aAAf,UACE,mBAAGA,UAAU,aAAb,SA/DN,WACE,IAAIuB,EAAc/B,EAAMoB,KAepBY,EAAM,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAaE,MAAM,EAAG,IAC/Bb,EAAO,IAAIc,KAAKF,GAIpB,MAHiB,UAhBF,CACb,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAKOZ,EAAKe,YADG,YAEbf,EAAKgB,UAFQ,cAEOhB,EAAKiB,eA2CEC,KAC3B,oBAAI9B,UAAU,cAAd,SAA6BR,EAAMkB,QACnC,mBAAGV,UAAU,kBAAb,SAAgCR,EAAMmB,OACtC,mBAAGX,UAAU,eAAb,SAA6BR,EAAMqB,gBCxFpC,SAASmJ,EAAcxK,GAG5B,OAFF9B,QAAQC,IAAI,kBAAkB6B,EAAMyK,YAGhC,qCACC,oBAAIjK,UAAU,gBAAd,4BACC,yBAASA,UAAU,QAAnB,SACE,oBAAIA,UAAU,cAAd,SACGR,EAAMyK,WAAazK,EAAMyK,WAAWxH,KAAI,SAACC,EAAMC,GAAW,IAAD,EAEpD,OADFjF,QAAQC,IAAI,cAAe+E,EAAKvB,KAE5B,cAAC,GAAD,GAEElB,QAASyC,EAAKzC,QACdS,MAAOgC,EAAKhC,MACZC,KAAM+B,EAAK/B,KACXC,KAAM8B,EAAK9B,KACXC,OAAQ6B,EAAK7B,OACbE,MAAO2B,EAAK5B,MAPd,sBAQS4B,EAAK3B,OARd,yBASYvB,EAAMU,UATlB,uBAUUwC,EAAKvB,KAVf,yBAWY3B,EAAM6F,UAXlB,GACO1C,MAaN,Y,MC9BZ,SAASuH,EAAc1K,GAC5B,OACE,mCACE,qBACEQ,UAAS,uBADX,SAIGR,EAAMwG,aCoIAmE,MA7Hf,SAAuB3K,GACrB,IAAMiK,EAAcnG,IAAMoG,WAAWrG,GAC/BtD,EAAWrB,EAAc,sBAFH,EAGQK,mBAAS,IAHjB,mBAGrBkL,EAHqB,KAGTG,EAHS,OAIArL,mBAAS,GAJT,mBAIrByD,EAJqB,KAIb6H,EAJa,KAuD5B,OAjDAnL,qBAAU,W1BwBHhB,MAAMZ,EAAU,YAAa,CAClCa,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYC,aAAaC,QAAQ,aAE/CE,MAAK,SAACjB,GAAD,OAASD,EAAcC,M0B1B1BiB,MAAK,SAACjB,GACL4M,EAAc5M,GAClB6M,EAAU7M,EAAIgF,QACV9E,QAAQC,IAAI,MAAOH,MAEpBgD,OAAM,SAACC,GAAD,OAAS/C,QAAQC,IAAI8C,QAC7B,CAAC+B,IAwCF,mCACE,sBAAKxC,UAAS,aAAd,UACGD,EACC,qCACE,cAAC,EAAD,CAAQ+H,YAAatE,EAAkBqE,SAAUnE,EAAjD,SACE,wBACErD,QAASb,EAAM4J,cACfpJ,UAAS,uBrBzEF,oCqB4EX,cAAC,EAAD,CACEiE,OAAQzE,EAAMyE,OACdmF,cAAe5J,EAAM4J,cACrBE,SAAU9J,EAAM8J,SAChBnG,QAAS3D,EAAM2D,QACfjD,SAAUV,EAAMU,SAChBmJ,SAAU7J,EAAM6J,SAChBM,iBAAkBnK,EAAMmK,iBACxBxF,QAAS3E,EAAM2E,aAInB,eAAC,EAAD,CAAQ2D,YAAatE,EAAkBqE,SAAUnE,EAAjD,UACE,cAAC,IAAD,CACErD,QAASb,EAAM8K,YACflG,GAAG,QACHpE,UAAS,kCAHX,kBAOA,mBACEA,UAAS,2DADX,4BAKA,yBACEK,QAASb,EAAM6J,SACfrJ,UAAS,sCAFX,UAIGyJ,EAAY1G,KACb,qBAAK/C,UAAS,0CAKpB,sBAAKA,UAAU,oBAAf,UACE,mBAAGA,UAAU,uBAAb,4BACA,qBAAIA,UAAU,oBAAd,UACGyJ,EAAY1G,KADf,cACgCP,EADhC,qBAGA,oBAAGxC,UAAU,uBAAb,yBACe,IACb,sBAAMA,UAAU,4BAAhB,SA1FV,WACE,IAAIuK,EAAW,GACfN,EAAWO,SAAQ,SAAC9H,GAClB6H,EAASE,KAAK/H,EAAKzC,YAgBrB,IAAMyK,EAbN,SAAyBC,GACvB,IAAIC,EAAY,GAQhB,OANAD,EAAIH,SAAQ,SAACpF,GACXwF,EAAUxF,GAAS,KAEPuF,EAAIE,QAAO,SAACzF,GACxB,OAA8B,MAArBwF,EAAUxF,MAEN0F,MAAK,SAACC,EAAGC,GACtB,OAAOJ,EAAUI,GAAKJ,EAAUG,MAGfE,CAAgBV,GAC/BW,EAAkBR,EAAaS,KAAK,MAC1C,OAAIT,EAAalI,QAAU,EAClB0I,EAEUR,EAAajJ,MAAM,EAAG,GAE5B0J,KAAK,MAAhB,gBAAiCT,EAAalI,OAAS,EAAvD,WAgEmD4I,WAIjD,cAAC,EAAD,UACE,cAACpB,EAAD,CACE9J,UAAU,EACV+J,WAAYA,EACZ5E,SApEV,SAAsBgG,GACpB3N,QAAQC,IAAI,SACZ,IAAM2N,EAAWrB,EAAWY,QAAO,SAACU,GAAD,OAAOA,EAAEpK,MAAQkK,KACpDjB,EAAckB,GACdjB,EAAU7H,EAAS,QAmEf,cAAC,EAAD,U,gBCtIKgJ,EAAiB,SAAC,GAAwC,IAA3BpD,EAA0B,EAArCqD,UAAyBjM,EAAY,6BAKpE,OAJAN,qBAAU,WACHM,EAAMU,UACXV,EAAMkM,oBAGN,cAAC,IAAD,UACG,kBACClM,EAAMU,SAAW,cAACkI,EAAD,eAAe5I,IAAY,cAAC,IAAD,CAAU4E,GAAG,U,MC4UlDuH,MAtUf,WACE,IAAMC,EAAUC,cACVC,EAAMxN,aAAaC,QAAQ,SAFpB,EAGaQ,mBAAS,IAHtB,mBAGNwD,EAHM,KAGCwJ,EAHD,OAI2BhN,oBAAS,GAJpC,mBAIQiN,GAJR,aAMmCjN,oBAAS,GAN5C,mBAMN4I,EANM,KAMYsE,EANZ,OAOyClN,oBAAS,GAPlD,mBAONuI,EAPM,KAOe4E,EAPf,OAQyBnN,oBAAS,GARlC,mBAQOoN,GARP,aAUyBpN,mBAAS,IAVlC,mBAUN0K,EAVM,KAUO2C,EAVP,OAYmBrN,oBAAS,GAZ5B,mBAYNmB,EAZM,KAYImM,EAZJ,OAcatN,mBAAS,IAdtB,gCAemBA,mBAAS,KAf5B,gCAgBWA,mBAAS,KAhBpB,gCAkBiBA,mBAAS,KAlB1B,mBAkBNwI,EAlBM,KAkBG+E,GAlBH,QAmBqCvN,oBAAS,GAnB9C,qBAmBNwN,GAnBM,MAmBaC,GAnBb,SAoBmBzN,oBAAS,GApB5B,qBAoBN0N,GApBM,MAoBKC,GApBL,SAsBqB3N,oBAAS,GAtB9B,qBAsBN4N,GAtBM,MAsBKC,GAtBL,SAuBiC7N,oBAAS,GAvB1C,qBAuBN8N,GAvBM,MAuBWC,GAvBX,MAqCb,SAASC,GAAc3N,GACrBA,EAAEkB,iBACFsM,IAAcD,IAKhB,SAASK,KACPb,GAAe,GACfF,GAAoB,GACpBC,GAAuB,GAwFzB,SAASe,KACPT,IAAqB,GAGvB,SAASU,KACPxP,QAAQC,IAAI,cACZW,aAAa6O,WAAW,SACxBvB,EAAQnB,KAAK,SACb4B,GAAY,GACZD,EAAe,IACfgB,KACArB,EAAS,IACTsB,IAAW,GACXC,IAAY,GAGd,SAASF,KACPpB,GAAgB,GAChBQ,IAAqB,GACrBP,GAAoB,GACpBC,GAAuB,GACvBC,GAAe,GACfS,IAAa,GACbb,EAAS,IACTsB,IAAW,GACXC,IAAY,GAvId5P,QAAQC,IAAI,MAAOmO,GA4GnBpO,QAAQC,IAAI,iBAAkBuC,GArIjB,OAmKiBnB,mBAAS,IAnK1B,qBAmKNkB,GAnKM,MAmKGqI,GAnKH,SAoKqBvJ,oBAAS,GApK9B,qBAoKNyF,GApKM,MAoKK+I,GApKL,SAqKyBxO,oBAAS,GArKlC,qBAqKN0F,GArKM,MAqKO+I,GArKP,SAsKiBzO,oBAAS,GAtK1B,qBAsKN0O,GAtKM,MAsKGJ,GAtKH,SAuKmBtO,oBAAS,GAvK5B,qBAuKN8K,GAvKM,MAuKIyD,GAvKJ,SAwKiBvO,oBAAS,GAxK1B,qBAwKN2O,GAxKM,MAwKGC,GAxKH,MA4Ob,OAnCAzO,qBAAU,WACR,IAAM0O,EAAQtP,aAAaC,QAAQ,SAC/BqP,IACFlQ,QAAQC,IAAI,QAASiQ,GACrBlQ,QAAQC,IAAI,YAAaiQ,GrB5KL,SAAC9B,GAEzB,OAAO5N,MAAMZ,EAAU,YAAa,CAElCkB,OAAQ,MACRL,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYyN,MAG5BrN,KAAKlB,GACHkB,MAAK,SAACjB,GACL,OAAOA,KqBiKPqQ,CACcD,GACXnP,MAAK,SAACjB,GACL,GAAKA,EAIL,OAAO4O,EAAe5O,GAHpB8O,GAAW,wDAKd7N,KAAK4N,GAAY,IACjB5N,MAAK,WACJmN,EAAQnB,KAAK,YAEdjK,OAAM,SAACC,GACN/C,QAAQC,IAAI8C,EAAI8G,eAGrB,CAACqE,EAAS1L,IAEbhB,qBAAU,WACR,IAAM0O,EAAQtP,aAAaC,QAAQ,SACnCb,QAAQC,IAAIiQ,GAERA,GACFhC,EAAQnB,KAAK,WAEd,CAACmB,IACNlO,QAAQC,IAAI,OAAQ8L,EAAY1G,MAG5B,qBAAK/C,UAAU,MAAf,SACE,eAACqD,EAAmByK,SAApB,CAA6B1I,MAAOqE,EAApC,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOsE,KAAK,QAAZ,SACE,eAAC,EAAD,CAEZlE,SAAUA,GACId,SA1EZ,SAA4B9I,GAC1BqN,IAAY,GACZhF,GAAWrI,GACXvC,QAAQC,IAAI,SACZ4P,IAAa,GACbC,IAAe,GACfH,IAAW,GACXM,IAAW,GACXK,EACU/N,GACPxB,MAAK,SAACjB,GACLE,QAAQC,IAAIH,GACZuO,EAASvO,GAETmQ,IAAW,GACXjQ,QAAQC,IAAI,SAAUH,EAAIgF,QACP,IAAfhF,EAAIgF,OACN+K,IAAa,IAEbA,IAAa,GACbF,IAAW,OAId7M,OAAM,SAACC,GACNkN,IAAW,GACXH,IAAe,GACf9P,QAAQC,IAAI8C,OAgDN0C,QAAS0J,GACT5I,OAAQ0I,GACRzM,SAAUA,EACVqC,MAAOA,EACPkJ,UAAWjC,EACXH,SAAU6D,GACV5D,SAAU0D,GACV5D,cAAe2D,GACfpD,iBAnOZ,WACEmD,IAAmB,GACnBf,EAAS,IACTsB,IAAW,GACXC,IAAY,IAgOFnJ,QAASiJ,GACTnN,QAASA,GAdX,UAiBCuE,IAAa,cAAC,EAAD,CAAcA,WAAW,EAAOC,aAAa,IAGrEgJ,IAAqB,cAAC,EAAD,CACTlL,MAAOA,EACPtC,QAASA,GAETC,SAAUA,IAEvBwN,IAAW,cAAC,EAAD,IAEXjJ,IAAe,cAAC,EAAD,CAAcD,WAAW,EAAQC,aAAa,SAKpD,cAAC,IAAD,CAAOsJ,KAAK,iBAAZ,SAEE,cAAC,EAAD,CACE5K,QAAS0J,GACTxD,SAAU6D,GACVzB,UAAWtB,EACXf,cAAe2D,GACf9I,OAAQ0I,GACRrC,YAzPZ,WACEwC,IAAmB,IAyPT5M,SAAUA,EACViE,QAASiJ,GACT1B,eAAgBsB,OAGpB,cAAC,IAAD,CAAOiB,OAAK,EAACF,KAAK,IAAlB,SACG7N,EACC,cAAC,IAAD,CAAUkE,GAAG,mBAEb,cAAC,IAAD,CAAUA,GAAG,YAGjB,cAAC,IAAD,CAAO2J,KAAK,KAAZ,SACA,cAAC,IAAD,CAAU3J,GAAG,WAId1G,QAAQC,IAAI,MAAOgK,GACpB,cAACD,EAAD,CACEC,iBAAkBA,EAClB9B,aAtOkB,SAAC,GAAyB,IAAvBS,EAAsB,EAAtBA,MAAOQ,EAAe,EAAfA,SAClCiF,EAAS,IACTuB,IAAY,GACZD,IAAW,GACX3P,QAAQC,IAAI8O,IACPnG,GAAUQ,IACbwF,GAAW,qDACXI,IAAW,GACXO,KACAvP,QAAQC,IAAI,yBrBrEO,SAAC2I,EAAOQ,GAE/B,OAAO5I,MAAMZ,EAAU,UAAW,CAEhCkB,OAAQ,OACRL,QAAS,CACP,eAAgB,oBAElB6C,KAAMC,KAAKC,UAAU,CAAEoF,QAAOQ,eAE/BrI,KAAKlB,GACHkB,MAAK,SAACjB,GACL,GAAIA,EAAIoQ,MAGN,OAFAlQ,QAAQC,IAAIH,EAAIoQ,OAChBtP,aAAa4P,QAAQ,QAAS1Q,EAAIoQ,OAC3BpQ,KqBwDXqQ,CACavH,EAAOQ,GACjBrI,MAAK,SAACiI,GACL2F,GAAY,GAEZD,EAAe1F,GACfhJ,QAAQC,IAAI,OAAQ+I,MAGrBjI,MAAK,WACJmN,EAAQnB,KAAK,KACb2C,QAED5M,OAAM,WACLkM,IAAW,GACXJ,GAAW,iDACXW,SA4ME9I,QAASiJ,GACTlH,UA9PR,SAAgC9G,GAC9BA,EAAEkB,iBACF6L,GAAe,GACfF,GAAoB,GACpBC,GAAuB,MA6PnB,cAAC/F,EAAD,CACEmB,oBAAqBA,EACrBzB,aA9MqB,SAAC,GAA+B,IAA7BS,EAA4B,EAA5BA,MAAOQ,EAAqB,EAArBA,SAAU/D,EAAW,EAAXA,KAC/C,IAAK+D,IAAaR,IAAUvD,EAG1B,OAFArF,QAAQC,IAAI,6BACZD,QAAQC,IAAI2I,IrB9GM,SAACA,EAAOQ,EAAU/D,GAExC,OAAO7E,MAAMZ,EAAU,UAAW,CAEhCkB,OAAQ,OACRL,QAAS,CACP,eAAgB,oBAElB6C,KAAMC,KAAKC,UAAU,CAAEoF,QAAOQ,WAAU/D,WAEvCtE,KAAKlB,GACLkB,MAAK,SAACjB,GACL,OAAOA,MqBqGTqQ,CACYvH,EAAOQ,EAAU/D,GAC1BtE,MAAK,SAACjB,GAKL,OAJAkP,IAAW,GACXJ,GAAW,0CACXW,KAEOzP,KAGRiB,KAAKmN,EAAQnB,KAAK,WAClBjK,OAAM,SAAChD,GACa,MAAfA,EAAI2Q,QACN7B,GAAW,+CACXI,IAAW,GACXO,MACwB,MAAfzP,EAAI2Q,SACb7B,GAAW,6BACXI,IAAW,GACXO,UAsLA9I,QAASiJ,GACTlH,UA/PR,SAA6B9G,GAC3BA,EAAEkB,iBACF2L,GAAoB,GACpBC,GAAuB,GACvBC,GAAe,MA8PX,cAAC,EAAD,CACElI,OAAQsI,GACRrI,YAAauI,GACbtI,QAASiJ,GACT7F,QAASA,UCpUJ6G,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB7P,MAAK,YAAkD,IAA/C8P,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACA,cAAC,IAAD,CAAeC,SAAS,0BAAxB,SACI,cAAC,EAAD,QAGJrG,SAASsG,eAAe,SAM1BZ,M","file":"static/js/main.2b707fed.chunk.js","sourcesContent":["const   baseUrl = process.env.NODE_ENV === 'production' ? \"https://morning-paper.students.nomoreparties.site\" : \"http://localhost:3000\";\r\n\r\nfunction checkResponse(res) {\r\n  if (res.ok) {\r\n    console.log('res');\r\n    return res.json();\r\n  } else {\r\n    Promise.reject('Error!' + res.statusText);\r\n  }\r\n}\r\n\r\nexport function saveArticle({\r\n  keyword,\r\n  title,\r\n  text,\r\n  date,\r\n  source,\r\n  link,\r\n  image,\r\n}) {\r\n  return fetch(baseUrl + '/articles', {\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n    },\r\n    method: 'POST',\r\n    body: JSON.stringify({\r\n      keyword,\r\n      title,\r\n      text,\r\n      date,\r\n      source,\r\n      link,\r\n      image,\r\n    }),\r\n  }).then((res) => {\r\n    console.log('what is res', res);\r\n    if (res.ok) {\r\n      console.log('res');\r\n      return res.json();\r\n    } else {\r\n      Promise.reject('Error!' + res.statusText);\r\n    }\r\n  });\r\n}\r\n\r\nexport function getSavedArticles() {\r\n  return fetch(baseUrl + '/articles', {\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n    },\r\n  }).then((res) => checkResponse(res));\r\n}\r\nexport function removeArticle(articleId) {\r\n  return fetch(baseUrl + `/articles/` + articleId, {\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n    },\r\n    method: 'DELETE',\r\n  }).then((res) => {\r\n    console.log('response', res);\r\n    checkResponse(res);\r\n  });\r\n}\r\n","import {useEffect, useState} from 'react';\n\nexport const useMediaQuery = (query) => {\n  const mediaMatch = window.matchMedia(query);\n  const [matches, setMatches] = useState(mediaMatch.matches);\n\n  useEffect(() => {\n    const handler = e => setMatches(e.matches);\n    mediaMatch.addListener(handler);\n    return () => mediaMatch.removeListener(handler);\n  });\n  return matches;\n};","import React, { useState } from 'react';\r\nimport * as saveApi from '../../utils/MainApi';\r\nimport { useMediaQuery } from '../../utils/hooks/mediaquery'; \r\nimport './card.css';\r\n\r\nfunction Card(props) {\r\n  const [cardId, setCardId] = useState('');\r\n  const [isCardSaved, setIsCardSaved] = useState(false);\r\n  const [isShown, setIsShown] = useState(false);\r\n  // const [isSaved, setIsSaved] = useState(false);\r\n  const isMobile = useMediaQuery('(max-width: 750px)');\r\n\r\n\r\n\r\n  function handleSaveClick(e) {\r\n    console.log(cardId);\r\n    e.preventDefault();\r\n    if (isCardSaved) {\r\n      \r\n        saveApi\r\n          .removeArticle(cardId)\r\n          .then(() => {\r\n            setIsCardSaved(false);\r\n          })\r\n          .catch((err) => console.log(err));\r\n      \r\n    } else {\r\n      saveApi\r\n        .saveArticle({\r\n          keyword: props.keyword,\r\n          title: props.title,\r\n          text: props.text,\r\n          date: props.date,\r\n          source: props.source,\r\n          link: props.link,\r\n          image: props.image,\r\n        })\r\n        .then((res) => {\r\n          setCardId(res._id);\r\n          setIsCardSaved(true);\r\n        });\r\n    }\r\n  }\r\n\r\n\r\n  function formatDate() {\r\n    let articleDate = props.date;\r\n    const months = [\r\n      'January',\r\n      'February',\r\n      'March',\r\n      'April',\r\n      'May',\r\n      'June',\r\n      'July',\r\n      'August',\r\n      'September',\r\n      'October',\r\n      'November',\r\n      'December',\r\n    ];\r\n    let noTime = articleDate?.slice(0, 10);\r\n    let date = new Date(noTime);\r\n    let formattedDate = `${\r\n      months[date.getMonth()]\r\n    } ${date.getDate()},  ${date.getFullYear()}`;\r\n    return formattedDate;\r\n  }\r\n  \r\n  return (\r\n    <li className='card'>\r\n      <div className='card__top-left_container'>\r\n        <div className='card__tag_container'>\r\n          <p className='card__tag_text'>{props.keyword}</p>\r\n        </div>\r\n      </div>\r\n      <div className='card__top-right_container'>\r\n        {isShown && !props.loggedIn && !isMobile && (\r\n          <div className='card__hoverbox'>\r\n            <p className='card__hoverbox-text'>Sign in to save articles</p>\r\n          </div>\r\n        )}\r\n        <div className='card___container'></div>\r\n        <div\r\n          className='card__icon-text_container'\r\n          onMouseEnter={() => setIsShown(true)}\r\n          onMouseLeave={() => setIsShown(false)}\r\n        >\r\n          <button\r\n            className={`card__save-btn ${\r\n              isCardSaved ? 'card__save-btn_saved' : null\r\n            }`}\r\n            onClick={handleSaveClick}\r\n            disabled={!props.loggedIn}\r\n          />\r\n        </div>\r\n      </div>\r\n      <img\r\n        // TEST this is a test link\r\n        // src='https://static.toiimg.com/photo/72975551.cms'\r\n        src={props.image}\r\n        className='card__pic'\r\n        // alt={props.name}\r\n        alt={'test card'}\r\n      />\r\n      <div className='card__text'>\r\n        <p className='card__date'>{formatDate()}</p>\r\n        <h2 className='card__title'>{props.title}</h2>\r\n        <p className='card__paragraph'>{props.text}</p>\r\n        <p className='card__source'>{props.source}</p>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","\r\n\r\n\r\nimport React, { useLayoutEffect, useState } from 'react';\r\nimport Card from '../Card/Card';\r\n\r\nimport './CardsList.css';\r\n\r\nexport function CardsList(props) {\r\n  const [displayedCards, setDisplayedCards] = useState([]);\r\n\r\n  const [isButtonVisible, setIsButtonVisible] = useState(true);\r\n  const [count, setCount] = useState(3);\r\n\r\n  useLayoutEffect(() => {\r\n      setDisplayedCards(props.cards?.slice(0, count));\r\n      if (props.cards?.length < count) {\r\n        setIsButtonVisible(false);\r\n      } else {\r\n        setIsButtonVisible(true);\r\n      }\r\n\r\n  }, [props.cards, count]);\r\n\r\n\r\n\r\n  \r\n\r\n  return (\r\n    <>\r\n     <h2 className='search__title'>Search results</h2>\r\n      <section className='cards'>\r\n        <ul className='cards__list'>\r\n          { displayedCards?.map((card, index) => {\r\n                return (\r\n                  <Card\r\n                    key={index}\r\n                    keyword={props.keyword}\r\n                    buttonType={'card__save-btn'}\r\n                    title={card.title}\r\n                    text={card.description}\r\n                    date={card.publishedAt}\r\n                    source={card.source.name}\r\n                    link={card.url}\r\n                    image={card.urlToImage}\r\n                    savedArticles={props.savedArticles}\r\n                    \r\n                    \r\n                    loggedIn={props.loggedIn}\r\n                    isSaved={props.isSaved}\r\n                    onCardLike={props.onCardLike}\r\n               \r\n                  />\r\n                );\r\n              })}\r\n        </ul>\r\n{isButtonVisible && <button\r\n          className={`search__show \r\n       `}\r\n          onClick={() => setCount(count + 5)}\r\n        >\r\n          Show more\r\n        </button>}\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\n\nexport  const CurrentUserContext = React.createContext();\n\n\n\n\n","const headerTitleBlack = 'header__title_black';\r\nconst headerTitleWhite = 'header__title_white';\r\nconst hamburger = 'header__icon_hamburger';\r\nconst headerBgWhite= \"header__container_white\";\r\nconst headerBgTransparent =  \"header__container_transparent\";\r\nconst headerBgBlack =  \"header__container_black\";\r\nconst hiddenNavDrawer = 'navigator_hidden';\r\nconst showNavDrawer = '';\r\nconst hamburgerBlack = 'header__icon_hamburger_black';\r\nconst hamburgerWhite = 'header__icon_hamburger_white';\r\nconst iconX = 'header__icon_x';\r\nconst noButton = 'header__button_hidden';\r\nconst newsApi = 'af2333dae49940699539bd20bbcb969a';\r\nexport {headerBgBlack, headerBgTransparent, newsApi, noButton, iconX, headerBgWhite, headerTitleBlack, headerTitleWhite, hamburger, hamburgerBlack, hamburgerWhite, hiddenNavDrawer, showNavDrawer };","\r\n\r\n\r\nimport {newsApi} from '../utils/constants/constants';\r\n\r\n// MAKEME weed out the necessary api calls\r\n\r\nfunction checkResponse(res) {\r\n  if (res.ok) {\r\n    return res.json();\r\n  } else {\r\n    Promise.reject('Error!' + res.statusText);\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nconst   baseUrl = process.env.NODE_ENV === 'production' ? \"https://nomoreparties.co/news/v2/everything\" : \"https://newsapi.org/v2/everything\";\r\n\r\nexport const search = (keyword) => {\r\n\r\n  var today = new Date();\r\n  var lastWeek = new Date(today.getFullYear(), today.getMonth(), today.getDate() - 7);\r\n\r\n  return fetch( `${baseUrl}?q=${keyword}&from=${lastWeek}&to${today}&sortBy=popularity&pageSize=100&apiKey=${newsApi}`, {\r\n  }\r\n  ).then((res) => checkResponse(res)).then((res) => res.articles);\r\n  };\r\n  \r\n\r\n\r\n","\r\n\r\n\r\n\r\nconst   baseUrl = process.env.NODE_ENV === 'production' ? \"https://morning-paper.students.nomoreparties.site\" : \"http://localhost:3000\";\r\n\r\nfunction checkResponse(res) {\r\n  if (res.ok) {\r\n    return res.json();\r\n  } else {\r\n    Promise.reject(\"Error!\" + res.statusText);\r\n  }\r\n}\r\n\r\nexport const register = (email, password, name) => {\r\n\r\n  return fetch(baseUrl + '/signup', {\r\n\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password, name }),\r\n  })\r\n    .then(checkResponse)\r\n    .then((res) => {\r\n      return res;\r\n    });\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n\r\n  return fetch(baseUrl + '/signin', {\r\n\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n  .then(checkResponse)\r\n    .then((res) => {\r\n      if (res.token) {\r\n        console.log(res.token)\r\n        localStorage.setItem('token', res.token);\r\n        return res;\r\n      }\r\n    });\r\n};\r\n\r\nexport const getContent = (jwt) => {\r\n\r\n  return fetch(baseUrl + '/users/me', {\r\n\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${jwt}`,\r\n    },\r\n  })\r\n  .then(checkResponse)\r\n    .then((res) => {\r\n      return res;\r\n    });\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\nimport { Link } from 'react-router-dom';\r\nimport './InfoToolTip.css';\r\n\r\nexport function InfoToolTip(props) {\r\n  return (\r\n    <div\r\n      className={`modal modal_type_${props.name} ${\r\n        props.isOpen ? 'modal_open' : ''\r\n      }`}\r\n    >\r\n      <div className='modal__container'>\r\n        <div className='infotooltip'>\r\n          {props.isItSuccess ? (\r\n            <>\r\n              <h1 className='infotooltip__message'>\r\n                {' '}\r\n                \"Registration successfully completed.\"{' '}\r\n              </h1>\r\n              <Link\r\n                onClick={props.onClose}\r\n                className='infotooltip__link'\r\n                to='main'\r\n              >\r\n                Sign in{' '}\r\n              </Link>\r\n            </>\r\n          ) : (\r\n            <h1 className='infotooltip__message'>\r\n              \"Oops, something went wrong! Please try again.\"{' '}\r\n            </h1>\r\n          )}\r\n        </div>\r\n        <button\r\n          aria-label='Close Button'\r\n          type='reset'\r\n          className={`modal__close-button modal__close-button_${props.name}`}\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoToolTip;\r\n","import React from 'react';\r\n\r\nimport './NothingFound.css';\r\n\r\nexport function NothingFound(props) {\r\n  //BUG for some reason the picture isnt showing\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={`nothing-found\r\n    `}\r\n      >\r\n        <div className='nothing-found__pic'></div>\r\n        <h2 className='nothing-found__title'>{props.noResults && !props.resultError ? 'Nothing found' : 'Something went wrong'}</h2>\r\n        <p className='nothing-found__subtitle'>\r\n          {props.noResults && !props.resultError ? 'Sorry, but nothing matched your search terms.' : 'Sorry, something went wrong during the request. There may be a connection issue or the server may be down. Please try again later.'}\r\n        </p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport './Preloader.css';\r\n\r\nexport function Preloader(props) {\r\n  return (\r\n    <>\r\n      <div\r\n        className={`preloader\r\n    `}\r\n      >\r\n        <div className='circle-preloader_container'>\r\n          <i className='circle-preloader'></i>\r\n        </div>\r\n        <p className='preloader__subtitle'>Searching for news...</p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nfunction Input(props) {\r\n  return (\r\n    <>\r\n      <label htmlFor={props.name} className='form__input-title'>\r\n        {props.name}\r\n      </label>\r\n      <input\r\n        required\r\n        id={props.name + '-' + props.form}\r\n        minLength={props.minlength}\r\n        maxLength={props.maxlength}\r\n        className='form__input'\r\n        type={props.type}\r\n        name={props.name}\r\n        value={props.value}\r\n        onChange={props.handleChange}\r\n        placeholder={props.placeholderText}\r\n      />\r\n      <span\r\n        className={`form__input-error ${\r\n          props.valid ? '' : 'form__input-error_visible'\r\n        }`}\r\n        id='name-input-error'\r\n      >\r\n        {props.errorText}{' '}\r\n      </span>\r\n    </>\r\n  );\r\n}\r\nexport default Input;\r\n","import React, { Children } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nexport function Popup(props) {\r\n  function isDisabled() {\r\n    return !props.valid;\r\n  }\r\n  return (\r\n    <div className={`modal  ${props.isOpen ? 'modal_open' : ''}`}  \r\n    >\r\n      <div className='modal__container'>\r\n        <form\r\n          onSubmit={props.handleSubmit}\r\n          action='#'\r\n          className={`form`}\r\n\r\n          noValidate\r\n        >\r\n          <h2 className='form__title '>{props.title}</h2>\r\n\r\n          {props.children}\r\n          <button\r\n            aria-label='Close Button'\r\n            type='reset'\r\n            className={`modal__close-button `}\r\n            onClick={props.onClose}\r\n          ></button>\r\n          <button\r\n            value={props.buttonText}\r\n            type='submit'\r\n            className={`form__button ${\r\n              props.valid ? '' : 'form__button_disabled'\r\n            }`}\r\n            disabled={isDisabled()}\r\n          >\r\n            {props.buttonText}\r\n          </button>\r\n          <div className='form__link_container'>\r\n            <span className='form__link-span'>\r\n              or{' '}\r\n              <button onClick={props.linkClick} className={`form__link`}>\r\n                {props.link}\r\n              </button>\r\n            </span>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n// import { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\nimport '../../Popup/NewRegister/form.css';\r\nimport Input from '../Input';\r\nimport { Popup } from '../Popup';\r\n\r\nexport function NewRegister(props) {\r\n\r\n\r\n  const [isEmailValid, setIsEmailValid] = useState(true);\r\n  const [email, setEmail] = useState('');\r\n  const [isUserValid, setIsUserValid] = useState(true);\r\n  const [user, setUser] = useState('');\r\n  const [isPasswordValid, setIsPasswordValid] = useState(false);\r\n  const [password, setPassword] = useState('');\r\n  const [formValid, setFormValid] = useState(true);\r\n\r\n  function validateEmail(email) {\r\n    const regex = /\\S+@\\S+\\.\\S+/;\r\n    return regex.test(email);\r\n  }\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n    setIsEmailValid(validateEmail(email));\r\n    allValid(e);\r\n  }\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n    if (password.length > 6) {\r\n      setIsPasswordValid(true);\r\n    } else {\r\n      setIsPasswordValid(false);\r\n    }\r\n    allValid(e);\r\n  }\r\n  function handleUserChange(e) {\r\n    setUser(e.target.value);\r\n    setIsUserValid(true);\r\n\r\n    allValid(e);\r\n  }\r\n  function allValid(e) {\r\n    setFormValid(e.target.closest('form').checkValidity());\r\n  }\r\n  function signUpSubmit(e) {\r\n    e.preventDefault();\r\n    props.handleSubmit({ email, password, name: user });\r\n    resetForm();\r\n  }\r\n\r\n  function resetForm() {\r\n    setEmail('');\r\n    setPassword('');\r\n    setUser('');\r\n    // setMessage('');\r\n  }\r\n\r\n  return (\r\n    <Popup\r\n      isOpen={props.isRegisterPopupOpen}\r\n      buttonText='Sign up'\r\n      onClose={props.onClose}\r\n      title='Sign up'\r\n      link='Sign in'\r\n      linkClick={props.linkClick}\r\n      handleSubmit={signUpSubmit}\r\n      valid={formValid}\r\n      message={props.message}\r\n      \r\n    >\r\n      <Input\r\n        type='email'\r\n        name='Email'\r\n        form='sign-up'\r\n        handleChange={handleEmailChange}\r\n        errorText='Invalid email address'\r\n        placeholderText='Enter email'\r\n        valid={isEmailValid}\r\n        minlength='2'\r\n        noValidate\r\n        value={email}\r\n        maxlength='40'\r\n\r\n      />\r\n\r\n      <Input\r\n        minlength='2'\r\n        valid={isPasswordValid}\r\n        errorText='Password requires additional characters'\r\n        noValidate\r\n        value={password}\r\n        maxlength='200'\r\n        type='password'\r\n        name='Password'\r\n        form='sign-up'\r\n        handleChange={handlePasswordChange}\r\n        placeholderText='Enter Password'\r\n      />\r\n\r\n      <Input\r\n        minlength='2'\r\n        errorText='name required'\r\n        noValidate\r\n        value={user}\r\n        maxlength='200'\r\n        type='text'\r\n        name='Name'\r\n        form='sign-up'\r\n        handleChange={handleUserChange}\r\n        valid={isUserValid}\r\n        placeholderText='Enter Name'\r\n      />\r\n    </Popup>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n// import { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\nimport '../NewRegister/form.css';\r\nimport { Popup } from '../Popup';\r\nimport Input from '../Input';\r\nexport function NewLogin(props) {\r\n  const [isEmailValid, setIsEmailValid] = useState(true);\r\n  const [email, setEmail] = useState('');\r\n  const [isPasswordValid, setIsPasswordValid] = useState(false);\r\n  const [password, setPassword] = useState('');\r\n  const [formValid, setFormValid] = useState(false);\r\n\r\n  function validateEmail(email) {\r\n    const regex = /\\S+@\\S+\\.\\S+/;\r\n    return regex.test(email);\r\n  }\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n    setIsEmailValid(validateEmail(email));\r\n    allValid(e);\r\n  }\r\n\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n    if (password.length > 7) {\r\n      setIsPasswordValid(true);\r\n    }\r\n    allValid(e);\r\n  }\r\n\r\n  function allValid(e) {\r\n    setFormValid(e.target.closest('form').checkValidity());\r\n  }\r\n  function handleSignInSubmit(e) {\r\n    e.preventDefault();\r\n    props.handleSubmit({ email, password });\r\n    resetForm();\r\n  }\r\n\r\n  function resetForm() {\r\n    setEmail('');\r\n    setPassword('');\r\n    // setUser('');\r\n    // setMessage('');\r\n  }\r\n\r\n  return (\r\n    <Popup\r\n      isOpen={props.isLoginPopupOpen}\r\n      buttonText='Sign in'\r\n      onClose={props.onClose}\r\n      title='Sign in'\r\n      link='Sign up'\r\n      linkClick={props.linkClick}\r\n      handleSubmit={handleSignInSubmit}\r\n      valid={formValid}\r\n      message={props.message}\r\n    >\r\n      <Input\r\n        // GOOGLE how to catch the celebrate errors, or do live validation\r\n        type='email'\r\n        name='Email'\r\n        form='sign-in'\r\n        handleChange={handleEmailChange}\r\n        errorText='Invalid email address'\r\n        valid={isEmailValid}\r\n        placeholderText='Enter email'\r\n        minlength='2'\r\n        noValidate\r\n        value={email}\r\n        maxlength='40'\r\n      />\r\n\r\n      <Input\r\n        type='password'\r\n        name='Password'\r\n        form='sign-in'\r\n        handleChange={handlePasswordChange}\r\n        placeholderText='Enter Password'\r\n        valid={isPasswordValid}\r\n        minlength='2'\r\n        errorText='Password requires additional characters'\r\n        noValidate\r\n        value={password}\r\n        maxlength='200'\r\n      />\r\n    </Popup>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport './Header.css';\r\nexport function Header(props) {\r\n\r\n\r\n  return (\r\n    <header className={`header `}>\r\n      {/* <div className={`header__container ${props.headerlogout}`}> */}\r\n      <div className={`header__container ${props.headerBg}`}>\r\n        <p className={`header__title ${props.headerTitle}`}>NewsExplorer</p>\r\n        <div className='header__nav'>{props.children}</div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/avatar.b0b75056.png\";","import React from 'react';\r\nimport './About.css';\r\nimport avatar from '../../images/avatar.png';\r\n\r\nfunction About() {\r\n  return (\r\n    <section className='about'>\r\n      <div className='about_container'>\r\n        <img src={avatar} alt='avatar' className='about__pic' />\r\n        <div className='about__text'>\r\n          <h2 className='about__text-title'>About the author</h2>\r\n          <p className='about__text-body'>\r\n            This block describes the project author. Here you should indicate\r\n            your name, what you do, and which development technologies you know.\r\n          </p>\r\n          <p className='about__text-body'>\r\n            You can also talk about your experience with Practicum, what you\r\n            learned there, and how you can help potential customers.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default About;\r\n","import React from 'react';\r\nimport './Footer.css';\r\nimport { useHistory, Link } from 'react-router-dom';\r\n\r\nexport class Footer extends React.Component {\r\n  render() {\r\n    return (\r\n      <footer className='footer'>\r\n        <div className='footer__container'>\r\n          <div className='footer__copyright_container'>\r\n            <p className='footer__copyright'>\r\n              © 2021 Supersite, Powered by News API\r\n            </p>\r\n          </div>\r\n          <nav className='footer__content'>\r\n            <ul className='footer__links_container'>\r\n              <li className='footer__links-item'>\r\n                <Link className='footer__link' to='/'>\r\n                  <p className='footer__links'>Home</p>\r\n                </Link>\r\n              </li>\r\n              <li className='footer__links-item'>\r\n                <a\r\n                  className='footer__link'\r\n                  href='https://practicum.yandex.com/'\r\n                  target='_'\r\n                  rel='noreferrer'\r\n                >\r\n                  <p className='footer__links'>Practicum by Yandex</p>\r\n                </a>\r\n              </li>\r\n            </ul>\r\n            <ul className='footer__links_container footer__links_container_social'>\r\n              <li className='footer__links-item'>\r\n                <a href='https://www.facebook.com/' target='_' rel='noreferrer'>\r\n                  <div className='footer__social-icon footer__social-icon_facebook ' />\r\n                </a>\r\n              </li>\r\n              <li className='footer__links-item'>\r\n                <a href='https://github.com/' target='_' rel='noreferrer'>\r\n                  <div className='footer__social-icon footer__social-icon_github' />\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Header } from '../Header/Header';\r\nimport './SearchForm.css';\r\n\r\nfunction SearchForm(props) {\r\n  const [keyword, setKeyword] = useState('');\r\n  const [keywordValid, setKeywordValid] = useState(true);\r\n  const searchField = document.querySelector('.search-bar__input');\r\n\r\n  function onSearchChange(e) {\r\n    setKeyword(e.target.value);\r\n    if (keyword !== '') {\r\n      setKeywordValid(true);\r\n      document.querySelector('.search-bar__button').disabled = false;\r\n    }\r\n  }\r\n  function disableSearch() {\r\n    searchField.style.pointerEvents = 'none';\r\n    searchField.disabled = true;\r\n  }\r\n  function enableSearch() {\r\n    searchField.style.pointerEvents = 'auto';\r\n    searchField.disabled = false;\r\n  }\r\n  function submission(e) {\r\n    e.preventDefault();\r\n    disableSearch();\r\n    if (!keyword) {\r\n      enableSearch();\r\n      return;\r\n    }\r\n    props.onSearch(keyword);\r\n    setTimeout(enableSearch, 1000);\r\n    setKeyword('')\r\n  \r\n  }\r\n\r\n  // console.log('keyword valid', keywordValid);\r\n  return (\r\n    <>\r\n      <section className='search-form'>\r\n        <div className='search-form_container'>\r\n          <h1 className='search-form__title'>What's going on in the world?</h1>\r\n          <p className='search-form__subtitle'>\r\n            Find the latest news on any topic and save them in your personal\r\n            account.\r\n          </p>\r\n          <div className='search-bar__container'>\r\n            <form className='search-bar__form' onSubmit={submission}>\r\n              <input\r\n                onChange={onSearchChange}\r\n                onFocus={() => setKeywordValid(false)}\r\n                className='search-bar__input'\r\n                placeholder='Enter topic'\r\n                value={keyword}\r\n              />\r\n\r\n              <button\r\n                className={`search-bar__button ${\r\n                  keywordValid ? '' : 'search-bar__button_disabled'\r\n                }`}\r\n                type='submit'\r\n                disabled\r\n              >\r\n                Search\r\n              </button>\r\n            </form>\r\n            <span\r\n              className={`form__input-error ${\r\n                keywordValid ? '' : 'form__input-error_visible'\r\n              }`}\r\n              id='name-input-error'\r\n            >\r\n              Please enter a keyword\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SearchForm;\r\n","import React from 'react';\r\nimport { Header } from '../Header/Header';\r\nimport { Link } from 'react-router-dom';\r\nimport './Navigator.css';\r\nimport '../SavedNewsPage/SavedNewsPage.css';\r\nimport {\r\n  headerBgBlack,\r\n  headerTitleWhite,\r\n} from '../../utils/constants/constants.js';\r\nexport function Navigator(props) {\r\n  const navBarLink = props.loggedIn ? (\r\n    <>\r\n      <Link onClick={props.onClose} to='/main' className={`navigator__link`}>\r\n        Home\r\n      </Link>\r\n      <Link\r\n        onClick={props.onClose}\r\n        to='/savedNewsPage'\r\n        className={`navigator__link navigator__link_bottom`}\r\n      >\r\n        Saved articles\r\n      </Link>\r\n    </>\r\n  ) : (\r\n    <Link onClick={props.onClose} to='/main' className={`navigator__link `}>\r\n      Home\r\n    </Link>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className={`navigator ${props.isOpen ? '' : 'navigator_hidden'}`}>\r\n        <Header headerTitle={headerTitleWhite} headerBg={headerBgBlack}>\r\n          <button\r\n            onClick={props.onNavBarClick}\r\n            className={`header__icon ${'header__icon_x'}`}\r\n          ></button>\r\n        </Header>\r\n        <div className='navigator_container'>\r\n          <div className={`navigator__drawer `}>\r\n            <div className='navigator__links'>\r\n              {navBarLink}\r\n              <button\r\n                onClick={props.loggedIn ? props.onLogOut : props.onSignIn}\r\n                className={`header__button`}\r\n              >\r\n                {props.loggedIn ? 'Log out' : 'Sign in'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { Children } from 'react';\r\nimport Card from '../Card/Card';\r\nimport { CardsList } from '../CardsList/CardsList';\r\n\r\nimport './Search.css';\r\n\r\nexport function Search(props) {\r\n  return (\r\n    <>\r\n      <section className='search'>\r\n        <div className='search__container'>{props.children}</div>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n","/* eslint-disable react/jsx-no-comment-textnodes */\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Header } from '../Header/Header';\r\nimport About from '../About/About';\r\nimport './Main.css';\r\nimport { Footer } from '../Footer/Footer';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport { Navigator } from '../Navigator/Navigator';\r\n\r\n\r\nimport {\r\n  headerBgTransparent,\r\n  headerTitleWhite,\r\n  hamburgerWhite,\r\n} from '../../utils/constants/constants.js';\r\nimport { useMediaQuery } from '../../utils/hooks/mediaquery';\r\n\r\nimport { Search } from '../Search/Search';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nexport function Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n  const isMobile = useMediaQuery('(max-width: 750px)');\r\n\r\n  const savedArticles = props.loggedIn ? (\r\n    <Link\r\n      onClick={props.onSavedNewsClick}\r\n      to='savedNewsPage'\r\n      className={`header__saved-articles `}\r\n    >\r\n      Saved articles\r\n    </Link>\r\n  ) : null;\r\n\r\n  const headerButton = props.loggedIn ? (\r\n    <button\r\n      onClick={props.onLogOut}\r\n      className={`header__button header__button_white`}\r\n    >\r\n      {currentUser.name}\r\n      <div className={`header__icon `}></div>\r\n    </button>\r\n  ) : (\r\n    <button\r\n      onClick={props.onSignIn}\r\n      className={`header__button header__button_white header__button_sign-in`}\r\n    >\r\n      Sign in\r\n    </button>\r\n  );\r\n\r\n  \r\n  return (\r\n    <>\r\n      <main className='main'>\r\n        <div className='search-form__pic'>\r\n          {isMobile ? (\r\n            <>\r\n              <Header\r\n                headerTitle={headerTitleWhite}\r\n                headerBg={headerBgTransparent}\r\n              >\r\n                <button\r\n                  onClick={props.onNavBarClick}\r\n                  className={`header__icon ${hamburgerWhite}`}\r\n                ></button>\r\n              </Header>\r\n              <Navigator\r\n                isOpen={props.isOpen}\r\n                onNavBarClick={props.onNavBarClick}\r\n                onSignIn={props.onSignIn}\r\n                isSaved={props.isSaved}\r\n                loggedIn={props.loggedIn}\r\n                onLogOut={props.onLogOut}\r\n                onSavedNewsClick={props.onSavedNewsClick}\r\n                onClose={props.onClose}\r\n              ></Navigator>\r\n            </>\r\n          ) : (\r\n            <Header\r\n              headerTitle={headerTitleWhite}\r\n              headerBg={headerBgTransparent}\r\n            >\r\n              <p className={`header__home header__home_underlined `}>Home</p>\r\n              {savedArticles}\r\n              {headerButton}\r\n            </Header>\r\n          )}\r\n\r\n          <SearchForm onSearch={props.onSearch} />\r\n        </div>\r\n {!props.noSearch &&    \r\n          <Search\r\n            isSaved={props.isSaved}\r\n            loggedIn={props.loggedIn}\r\n            buttonType={'card__save-btn'}\r\n          >\r\n           \r\n\r\n\r\n{props.children}\r\n          </Search>\r\n        }\r\n\r\n        <About />\r\n        <Footer />\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n","\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\nimport * as saveApi from '../../utils/MainApi';\r\nimport './card.css';\r\nimport { useMediaQuery } from '../../utils/hooks/mediaquery';\r\nimport CardButton from './CardButton/CardButton';\r\n\r\nfunction NewsCard(props) {\r\n  const [cardId, setCardId] = useState('');\r\n  const [isCardSaved, setIsCardSaved] = useState(false);\r\n  const [isShown, setIsShown] = useState(false);\r\n  const isMobile = useMediaQuery('(max-width: 750px)');\r\n\r\n\r\n\r\nfunction handleRemoveClick(e) {\r\n  e.preventDefault();\r\n  if (props.cardId) {\r\n    setCardId(props.cardId);\r\n    saveApi\r\n      .removeArticle(props.cardId)\r\n      .then(() => {\r\n        props.onDelete(props.cardId);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n}\r\n\r\n\r\n  function formatDate() {\r\n    let articleDate = props.date;\r\n    const months = [\r\n      'January',\r\n      'February',\r\n      'March',\r\n      'April',\r\n      'May',\r\n      'June',\r\n      'July',\r\n      'August',\r\n      'September',\r\n      'October',\r\n      'November',\r\n      'December',\r\n    ];\r\n    let noTime = articleDate?.slice(0, 10);\r\n    let date = new Date(noTime);\r\n    let formattedDate = `${\r\n      months[date.getMonth()]\r\n    } ${date.getDate()},  ${date.getFullYear()}`;\r\n    return formattedDate;\r\n  }\r\n\r\n  \r\n\r\n  return (\r\n    <li className='card'>\r\n      <div className='card__top-left_container'>\r\n        <div className='card__tag_container'>\r\n          <p className='card__tag_text'>{props.keyword}</p>\r\n        </div>\r\n      </div>\r\n      <div className='card__top-right_container'>\r\n      {isShown && !isMobile && (\r\n        <div className='card__hoverbox'>\r\n          <p className='card__hoverbox-text'>\r\n          Remove from saved\r\n          </p>\r\n        </div>\r\n      )}\r\n      <div className='card___container'></div>\r\n      <div className='card__icon-text_container'\r\n                onMouseEnter={() => setIsShown(true)}\r\n                onMouseLeave={() => setIsShown(false)}\r\n      >\r\n<button\r\n\r\n          className={`card__delete-btn`}\r\n          onClick={handleRemoveClick}\r\n          />\r\n\r\n      </div>\r\n      </div>\r\n      <img\r\n        // TEST this is a test link\r\n        // src='https://static.toiimg.com/photo/72975551.cms'\r\n        src={props.image}\r\n        className='card__pic'\r\n        // alt={props.name}\r\n        alt={'test card'}\r\n      />\r\n      <div className='card__text'>\r\n        <p className='card__date'>{formatDate()}</p>\r\n        <h2 className='card__title'>{props.title}</h2>\r\n        <p className='card__paragraph'>{props.text}</p>\r\n        <p className='card__source'>{props.source}</p>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default NewsCard;\r\n","\r\n\r\n\r\nimport React, { useLayoutEffect, useState } from 'react';\r\nimport Card from '../Card/Card';\r\nimport NewsCard from '../Card/NewsCard';\r\n\r\nimport './CardsList.css';\r\n\r\nexport function NewsCardsList(props) {\r\nconsole.log('cards are saved',props.savedCards)\r\n\r\n  return (\r\n    <>\r\n     <h2 className='search__title'>Search results</h2>\r\n      <section className='cards'>\r\n        <ul className='cards__list'>\r\n          {props.savedCards ? props.savedCards.map((card, index) => {\r\n              console.log('card id is ', card._id)\r\n                return (\r\n                  <NewsCard\r\n                    key={index}\r\n                    keyword={card.keyword}\r\n                    title={card.title}\r\n                    text={card.text}\r\n                    date={card.date}\r\n                    source={card.source}\r\n                    image={card.link}\r\n                    image={card.image}\r\n                    loggedIn={props.loggedIn}\r\n                    cardId={card._id}\r\n                    onDelete={props.onChange}\r\n                  />\r\n                );\r\n              }) : null}\r\n        </ul>\r\n\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport './SavedArticles.css';\r\n\r\nexport function SavedArticles(props) {\r\n  return (\r\n    <>\r\n      <div\r\n        className={`saved-articles\r\n    `}\r\n      >\r\n        {props.children}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useMediaQuery } from '../../utils/hooks/mediaquery';\r\nimport { Footer } from '../Footer/Footer';\r\nimport { Header } from '../Header/Header';\r\nimport { Navigator } from '../Navigator/Navigator';\r\nimport { Link } from 'react-router-dom';\r\nimport * as saveApi from '../../utils/MainApi';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nimport {\r\n  headerBgWhite,\r\n  headerTitleBlack,\r\n  hamburgerBlack,\r\n} from '../../utils/constants/constants.js';\r\nimport './SavedNewsPage.css';\r\nimport { NewsCardsList } from '../CardsList/NewsCardsList';\r\nimport { SavedArticles } from '../SavedArticles/SavedArticles';\r\n\r\nfunction SavedNewsPage(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isMobile = useMediaQuery('(max-width: 750px)');\r\n  const [savedCards, setSavedCards] = useState([]);\r\n  const [length, setLength] = useState(0);\r\n\r\n  useEffect(() => {\r\n\r\n    saveApi\r\n      .getSavedArticles()\r\n      .then((res) => {\r\n        setSavedCards(res);\r\n    setLength(res.length);\r\n        console.log('res', res)\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [length]);\r\n\r\n  function getKeywords() {\r\n    let keywords = [];\r\n    savedCards.forEach((card) => {\r\n      keywords.push(card.keyword);\r\n    });\r\n\r\n    function sortByOccurance(arr) {\r\n      let frequency = {};\r\n\r\n      arr.forEach((value) => {\r\n        frequency[value] = 0;\r\n      });\r\n      var uniques = arr.filter((value) => {\r\n        return ++frequency[value] === 1;\r\n      });\r\n      return uniques.sort((a, b) => {\r\n        return frequency[b] - frequency[a];\r\n      });\r\n    }\r\n    const keywordsList = sortByOccurance(keywords);\r\n    const keywordsDisplay = keywordsList.join(', ');\r\n    if (keywordsList.length <= 3) {\r\n      return keywordsDisplay;\r\n    }\r\n    const keywordCut = keywordsList.slice(0, 2);\r\n    const display =\r\n      keywordCut.join(', ') + `, and ${keywordsList.length - 2} others`;\r\n    return display;\r\n  }\r\n\r\n  function handleChange(cardID) {\r\n    console.log('hello')\r\n    const newCards = savedCards.filter((c) => c._id !== cardID);\r\n    setSavedCards(newCards);\r\n    setLength(length - 1)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={`saved-news`}>\r\n        {isMobile ? (\r\n          <>\r\n            <Header headerTitle={headerTitleBlack} headerBg={headerBgWhite}>\r\n              <button\r\n                onClick={props.onNavBarClick}\r\n                className={`header__icon ${hamburgerBlack}`}\r\n              ></button>\r\n            </Header>\r\n            <Navigator\r\n              isOpen={props.isOpen}\r\n              onNavBarClick={props.onNavBarClick}\r\n              onSignIn={props.onSignIn}\r\n              isSaved={props.isSaved}\r\n              loggedIn={props.loggedIn}\r\n              onLogOut={props.onLogOut}\r\n              onSavedNewsClick={props.onSavedNewsClick}\r\n              onClose={props.onClose}\r\n            ></Navigator>\r\n          </>\r\n        ) : (\r\n          <Header headerTitle={headerTitleBlack} headerBg={headerBgWhite}>\r\n            <Link\r\n              onClick={props.onHomeClick}\r\n              to='/main'\r\n              className={`header__home header__home_black`}\r\n            >\r\n              Home\r\n            </Link>\r\n            <p\r\n              className={`header__saved-articles header__saved-articles_underlined`}\r\n            >\r\n              Saved articles\r\n            </p>\r\n            <button\r\n              onClick={props.onLogOut}\r\n              className={`header__button header__button_black`}\r\n            >\r\n              {currentUser.name}\r\n              <div className={`header__icon header__icon_black`}></div>\r\n            </button>\r\n          </Header>\r\n        )}\r\n\r\n        <div className='saved-news__intro'>\r\n          <p className='saved-news__subtitle'>Saved articles</p>\r\n          <h1 className='saved-news__title'>\r\n            {currentUser.name}, you have {length} saved articles\r\n          </h1>\r\n          <p className='saved-news__keywords'>\r\n            By keywords:{' '}\r\n            <span className='saved-news__keywords_span'>{getKeywords()}</span>\r\n          </p>\r\n        </div>\r\n\r\n        <SavedArticles>\r\n          <NewsCardsList\r\n            loggedIn={true}\r\n            savedCards={savedCards}\r\n            onChange={handleChange}\r\n          />\r\n        </SavedArticles>\r\n        <Footer />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SavedNewsPage;\r\n","import React, {useEffect} from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport const ProtectedRoute = ({ component: Component, ...props }) => {\r\n  useEffect(()=>{\r\n    if (!props.loggedIn) {\r\n    props.signInRedirect()\r\n  }})\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to='/'  />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Route, Switch, useHistory, Redirect } from 'react-router-dom';\r\nimport { CardsList } from '../CardsList/CardsList';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\nimport * as api from '../../utils/NewsApi';\r\nimport * as auth from '../../utils/auth';\r\nimport InfoToolTip from '../InfoToolTip/InfoToolTip';\r\nimport { NothingFound } from '../NothingFound/NothingFound';\r\nimport { Preloader } from '../Preloader/Preloader';\r\nimport { NewRegister } from '../Popup/NewRegister/NewRegister';\r\nimport { Popup } from '../Popup/Popup';\r\nimport { NewLogin } from '../Popup/NewLogin/NewLogin';\r\nimport { Main } from '../Main/Main';\r\nimport SavedNewsPage from '../SavedNewsPage/SavedNewsPage';\r\nimport {ProtectedRoute} from '../../components/HOC/ProtectedRoute';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n  const jwt = localStorage.getItem('token');\r\n  const [cards, setCards] = useState([]);\r\n  const [selectedCard, setSelectedCard] = useState(false);\r\n  \r\n  const [isLoginPopupOpen, setIsLoginPopupOpen] = useState(false);\r\n  const [isRegisterPopupOpen, setIsRegisterPopupOpen] = useState(false);\r\n  const [isPopupOpen, setIsPopupOpen] = useState(false);\r\n  \r\n  const [currentUser, setCurrentUser] = useState({});\r\n  \r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  \r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [name, setName] = useState('');\r\n  \r\n  const [message, setMessage] = useState('');\r\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\r\n  const [isSuccess, setSuccess] = useState(false);\r\n  \r\n  const [isNavOpen, setIsNavOpen] = useState(true);\r\n  const [isSavedNewsPage, setIsSavedNewsPage] = useState(false);\r\n  \r\n  console.log('jwt', jwt);\r\n  function handleSavedNewsClick() {\r\n    setIsSavedNewsPage(true);\r\n    setCards([]);\r\n    setResults(false);\r\n    setNoSearch(true);\r\n  }\r\n\r\n  function handleHomeClick() {\r\n    setIsSavedNewsPage(false);\r\n  }\r\n\r\n  function handleNavOpen(e) {\r\n    e.preventDefault();\r\n    setIsNavOpen(!isNavOpen);\r\n  }\r\n\r\n\r\n\r\n  function handleSignInClick() {\r\n    setIsPopupOpen(true);\r\n    setIsLoginPopupOpen(true);\r\n    setIsRegisterPopupOpen(false);\r\n    \r\n  }\r\n\r\n  function handleSwitchToRegister(e) {\r\n    e.preventDefault();\r\n    setIsPopupOpen(true);\r\n    setIsLoginPopupOpen(false);\r\n    setIsRegisterPopupOpen(true);\r\n  }\r\n  function handleSwitchToLogin(e) {\r\n    e.preventDefault();\r\n    setIsLoginPopupOpen(true);\r\n    setIsRegisterPopupOpen(false);\r\n    setIsPopupOpen(true);\r\n  }\r\n\r\n  //NOTE card functions\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n\r\n  //NOTE sign up log in functions\r\n\r\n  const handleLoginSubmit = ({ email, password }) => {\r\n    setCards([]);\r\n    setNoSearch(true);\r\n    setResults(false);\r\n    console.log(isSuccess);\r\n    if (!email || !password) {\r\n      setMessage('400 - one or more of the fields were not provided');\r\n      setSuccess(false);\r\n      handleInfoToolTip();\r\n      console.log('no email or password');\r\n    }\r\n    auth\r\n      .authorize(email, password)\r\n      .then((user) => {\r\n        setLoggedIn(true);\r\n        \r\n        setCurrentUser(user);\r\n        console.log('user', user);\r\n      })\r\n      // .then(resetForm)\r\n      .then(() => {\r\n        history.push('/');\r\n        closeAllPopups();\r\n      })\r\n      .catch(() => {\r\n        setSuccess(false);\r\n        setMessage('Oops, something went wrong! Please try again.');\r\n        handleInfoToolTip();\r\n      });\r\n  };\r\n\r\n  const handleRegisterSubmit = ({ email, password, name }) => {\r\n    if (!password || !email || !name) {\r\n      console.log('no email or password');\r\n      console.log(email);\r\n      return;\r\n    }\r\n    auth\r\n      .register(email, password, name)\r\n      .then((res) => {\r\n        setSuccess(true);\r\n        setMessage('Success! You have now been registered.');\r\n        handleInfoToolTip();\r\n\r\n        return res;\r\n      })\r\n      // .then(resetForm)\r\n      .then(history.push('/login'))\r\n      .catch((res) => {\r\n        if (res.status === 400) {\r\n          setMessage('One of the fields was filled in incorrectly');\r\n          setSuccess(false);\r\n          handleInfoToolTip();\r\n        } else if (res.status === 403) {\r\n          setMessage('This user already exists!');\r\n          setSuccess(false);\r\n          handleInfoToolTip();\r\n        }\r\n      });\r\n  };\r\n  console.log('app logged in?', loggedIn);\r\n\r\n  function handleInfoToolTip() {\r\n    setIsInfoToolTipOpen(true);\r\n  }\r\n\r\n  function handleLogOut() {\r\n    console.log('logged out');\r\n    localStorage.removeItem('token');\r\n    history.push('/main');\r\n    setLoggedIn(false);\r\n    setCurrentUser({});\r\n    closeAllPopups();\r\n    setCards([]);\r\n    setResults(false);\r\n    setNoSearch(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setSelectedCard(false);\r\n    setIsInfoToolTipOpen(false);\r\n    setIsLoginPopupOpen(false);\r\n    setIsRegisterPopupOpen(false);\r\n    setIsPopupOpen(false);\r\n    setIsNavOpen(true);\r\n    setCards([]);\r\n    setResults(false);\r\n    setNoSearch(true);\r\n  }\r\n\r\n  const [keyword, setKeyword] = useState('');\r\n  const [noResults, setNoResults] = useState(true);\r\n  const [resultError, setResultError] = useState(false);\r\n  const [results, setResults] = useState(false);\r\n  const [noSearch, setNoSearch] = useState(true);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  function handleSearchSubmit(keyword) {\r\n    setNoSearch(false);\r\n    setKeyword(keyword);\r\n    console.log('hello');\r\n    setNoResults(false);\r\n    setResultError(false);\r\n    setResults(false);\r\n    setLoading(true);\r\n    api\r\n      .search(keyword)\r\n      .then((res) => {\r\n        console.log(res);\r\n        setCards(res);\r\n        // console.log('cards', cards);\r\n        setLoading(false);\r\n        console.log('length', res.length)\r\n        if (res.length === 0) {\r\n          setNoResults(true);\r\n        } else {\r\n          setNoResults(false);\r\n          setResults(true);\r\n        }\r\n      })\r\n\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        setResultError(true);\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      console.log('token', token);\r\n      console.log('has token', token);\r\n\r\n      auth\r\n        .getContent(token)\r\n        .then((res) => {\r\n          if (!res) {\r\n            setMessage('400 - one or more of the fields were not provided');\r\n            return;\r\n          }\r\n          return setCurrentUser(res);\r\n        })\r\n        .then(setLoggedIn(true))\r\n        .then(() => {\r\n          history.push('/main');\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.message);\r\n        });\r\n    }\r\n  }, [history, loggedIn]);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    console.log(token)\r\n\r\n    if (token) {\r\n      history.push('/main');\r\n    }\r\n  }, [history]);\r\nconsole.log('user', currentUser.name)\r\n\r\n  return (\r\n    <div className='app'>\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Switch>\r\n          <Route path='/main'>\r\n            <Main\r\n\r\nnoSearch={noSearch}\r\n              onSearch={handleSearchSubmit}\r\n              isSaved={isSavedNewsPage}\r\n              isOpen={isNavOpen}\r\n              loggedIn={loggedIn}\r\n              cards={cards}\r\n              component={Main}\r\n              onLogOut={handleLogOut}\r\n              onSignIn={handleSignInClick}\r\n              onNavBarClick={handleNavOpen}\r\n              onSavedNewsClick={handleSavedNewsClick}\r\n              onClose={closeAllPopups}\r\n              keyword={keyword}\r\n            >\r\n              \r\n            {noResults && <NothingFound noResults={true}  resultError={false}/> }\r\n{/* <Preloader /> */}\r\n\r\n {results &&           <CardsList\r\n              cards={cards}\r\n              keyword={keyword}\r\n    \r\n              loggedIn={loggedIn}\r\n            />}\r\n{loading && <Preloader /> }\r\n\r\n{resultError && <NothingFound noResults={false}  resultError={true} />}\r\n            </Main>\r\n          </Route>\r\n  \r\n\r\n          <Route path='/savedNewsPage'>\r\n            \r\n            <ProtectedRoute\r\n              isSaved={isSavedNewsPage}\r\n              onLogOut={handleLogOut}\r\n              component={SavedNewsPage}\r\n              onNavBarClick={handleNavOpen}\r\n              isOpen={isNavOpen}\r\n              onHomeClick={handleHomeClick}\r\n              loggedIn={loggedIn}\r\n              onClose={closeAllPopups}\r\n              signInRedirect={handleSignInClick}\r\n            />\r\n          </Route>\r\n          <Route exact path='/'>\r\n            {loggedIn ? (\r\n              <Redirect to='/savedNewsPage' />\r\n            ) : (\r\n              <Redirect to='/main' />\r\n            )}\r\n          </Route>\r\n          <Route path=\"/*\">\r\n          <Redirect to=\"/\" />\r\n        </Route>\r\n        </Switch>\r\n\r\n        {console.log('log', isLoginPopupOpen)}\r\n        <NewLogin\r\n          isLoginPopupOpen={isLoginPopupOpen}\r\n          handleSubmit={handleLoginSubmit}\r\n          onClose={closeAllPopups}\r\n          linkClick={handleSwitchToRegister}\r\n        />\r\n\r\n        <NewRegister\r\n          isRegisterPopupOpen={isRegisterPopupOpen}\r\n          handleSubmit={handleRegisterSubmit}\r\n          onClose={closeAllPopups}\r\n          linkClick={handleSwitchToLogin}\r\n        ></NewRegister>\r\n\r\n        <InfoToolTip\r\n          isOpen={isInfoToolTipOpen}\r\n          isItSuccess={isSuccess}\r\n          onClose={closeAllPopups}\r\n          message={message}\r\n        />\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n// REFACTOR IMHO best practice would be to assign paths to the\r\n// signin and signup modals, and use react router and its Link component\r\n// (which is basically an <a>) to navigate to it. Would have to think about\r\n// how to design the path scheme to work with keeping the backing page the same.\r\n// Or the cheap and easy route is to use javascript:void() or # or something\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport \"./utils/constants/constants.css\";\r\nimport App from './components/App/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n  <BrowserRouter basename=\"/news-explorer-frontend\">\r\n      <App/>\r\n  </BrowserRouter>\r\n</React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}