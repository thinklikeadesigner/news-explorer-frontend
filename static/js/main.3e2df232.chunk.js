(this["webpackJsonpnews-explorer-frontend"]=this["webpackJsonpnews-explorer-frontend"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(21),r=n.n(s),o=n(5),i=(n(33),n(2)),l=n(3),d=c.a.createContext(),j="https://morning-paper.students.nomoreparties.site";function u(e){if(e.ok)return e.json();Promise.reject("Error!"+e.statusText)}function b(e){var t=localStorage.getItem("jwt");return fetch(j+"/articles/"+e,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},method:"DELETE"}).then((function(e){u(e)}))}n(15),n(16);var h=n(0);var m=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=(n[0],n[1],Object(a.useState)(!1)),s=Object(i.a)(c,2),r=(s[0],s[1],Object(a.useState)(!1)),o=Object(i.a)(r,2),l=o[0],d=o[1];return Object(h.jsxs)("li",{className:"card",children:[Object(h.jsx)("div",{className:"card__top-left_container",children:Object(h.jsx)("div",{className:"card__tag_container",children:Object(h.jsx)("p",{className:"card__tag_text",children:e.keyword})})}),Object(h.jsxs)("div",{className:"card__top-right_container",children:[l&&!e.loggedIn&&Object(h.jsx)("div",{className:"card__hoverbox",children:Object(h.jsx)("p",{className:"card__hoverbox-text",children:"Sign in to save articles"})}),Object(h.jsx)("div",{className:"card___container"}),Object(h.jsx)("div",{className:"card__icon-text_container",onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},children:Object(h.jsx)("button",{className:"card__save-btn ",onClick:e.onSignIn})})]}),Object(h.jsx)("img",{src:e.image,className:"card__pic",alt:"test card"}),Object(h.jsxs)("div",{className:"card__text",children:[Object(h.jsx)("p",{className:"card__date",children:function(){var t=e.date,n=null===t||void 0===t?void 0:t.slice(0,10),a=new Date(n);return"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()]," ").concat(a.getDate(),",  ").concat(a.getFullYear())}()}),Object(h.jsx)("h2",{className:"card__title",children:e.title}),Object(h.jsx)("p",{className:"card__paragraph",children:e.text}),Object(h.jsx)("p",{className:"card__source",children:e.source})]})]})};n(17);function O(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(!0),o=Object(i.a)(r,2),l=o[0],d=o[1],j=Object(a.useState)(3),u=Object(i.a)(j,2),b=u[0],O=u[1];return Object(a.useLayoutEffect)((function(){var t,n;s(null===(t=e.cards)||void 0===t?void 0:t.slice(0,b)),(null===(n=e.cards)||void 0===n?void 0:n.length)<b?d(!1):d(!0)}),[b]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"search__title",children:"Search results"}),Object(h.jsxs)("section",{className:"cards",children:[Object(h.jsx)("ul",{className:"cards__list",children:null===c||void 0===c?void 0:c.map((function(t,n){return Object(h.jsx)(m,{keyword:e.keyword,buttonType:"card__save-btn",title:t.title,text:t.description,date:t.publishedAt,source:t.source.name,link:t.url,image:t.urlToImage,savedArticles:e.savedArticles,onSignIn:e.onSignIn,loggedIn:e.loggedIn,isSaved:e.isSaved,onCardLike:e.onCardLike},n)}))}),l&&Object(h.jsx)("button",{className:"search__show \n       ",onClick:function(){return O(b+5)},children:"Show more"})]})]})}var _="header__title_black",x="header__title_white",g="header__container_white",f="header__container_transparent";var p=function(e){var t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-7);return fetch("https://nomoreparties.co/news/v2/everything?q="+e+"&from="+n+"&to="+t+"&sortBy=popularity&pageSize=100&apiKey=af2333dae49940699539bd20bbcb969a",{}).then((function(e){return function(e){if(e.ok)return e.json();Promise.reject("Error!"+e.statusText)}(e)})).then((function(e){return e.articles}))},v="https://morning-paper.students.nomoreparties.site";function N(e){if(e.ok)return e.json();Promise.reject("Error!"+e.statusText)}n(35);var S=function(e){return Object(h.jsx)("div",{className:"modal modal_type_".concat(e.name," ").concat(e.isOpen?"modal_open":""),children:Object(h.jsxs)("div",{className:"modal__container",children:[Object(h.jsx)("div",{className:"infotooltip",children:e.isItSuccess?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h1",{className:"infotooltip__message",children:[" ",'"Registration successfully completed."'," "]}),Object(h.jsxs)(o.b,{onClick:e.onClose,className:"infotooltip__link",to:"main",children:["Sign in"," "]})]}):Object(h.jsxs)("h1",{className:"infotooltip__message",children:['"Oops, something went wrong! Please try again."'," "]})}),Object(h.jsx)("button",{"aria-label":"Close Button",type:"reset",className:"modal__close-button modal__close-button_".concat(e.name),onClick:e.onClose})]})})};n(41);function k(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"nothing-found\n    ",children:[Object(h.jsx)("div",{className:"nothing-found__pic"}),Object(h.jsx)("h2",{className:"nothing-found__title",children:e.noResults&&!e.resultError?"Nothing found":"Something went wrong"}),Object(h.jsx)("p",{className:"nothing-found__subtitle",children:e.noResults&&!e.resultError?"Sorry, but nothing matched your search terms.":"Sorry, something went wrong during the request. There may be a connection issue or the server may be down. Please try again later."})]})})}n(42);function w(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"preloader\n    ",children:[Object(h.jsx)("div",{className:"circle-preloader_container",children:Object(h.jsx)("i",{className:"circle-preloader"})}),Object(h.jsx)("p",{className:"preloader__subtitle",children:"Searching for news..."})]})})}n(19);var C=function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("label",{htmlFor:e.name,className:"form__input-title",children:e.name}),Object(h.jsx)("input",{required:!0,id:e.name+"-"+e.form,minLength:e.minlength,maxLength:e.maxlength,className:"form__input",type:e.type,name:e.name,value:e.value,onChange:e.handleChange,placeholder:e.placeholderText}),Object(h.jsxs)("span",{className:"form__input-error ".concat(e.valid?"":"form__input-error_visible"),id:"name-input-error",children:[e.errorText," "]})]})};function y(e){return Object(h.jsx)("div",{className:"modal  ".concat(e.isOpen?"modal_open":""),children:Object(h.jsx)("div",{className:"modal__container",children:Object(h.jsxs)("form",{onSubmit:e.handleSubmit,action:"#",className:"form",noValidate:!0,children:[Object(h.jsx)("h2",{className:"form__title ",children:e.title}),e.children,Object(h.jsx)("button",{"aria-label":"Close Button",type:"reset",className:"modal__close-button ",onClick:e.onClose}),Object(h.jsx)("button",{value:e.buttonText,type:"submit",className:"form__button ".concat(e.valid?"":"form__button_disabled"),disabled:!e.valid,children:e.buttonText}),Object(h.jsx)("div",{className:"form__link_container",children:Object(h.jsxs)("span",{className:"form__link-span",children:["or"," ",Object(h.jsx)("button",{onClick:e.linkClick,className:"form__link",children:e.link})]})})]})})})}function I(e){var t=Object(a.useState)(!0),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),o=Object(i.a)(r,2),l=o[0],d=o[1],j=Object(a.useState)(!0),u=Object(i.a)(j,2),b=u[0],m=u[1],O=Object(a.useState)(""),_=Object(i.a)(O,2),x=_[0],g=_[1],f=Object(a.useState)(!1),p=Object(i.a)(f,2),v=p[0],N=p[1],S=Object(a.useState)(""),k=Object(i.a)(S,2),w=k[0],I=k[1],T=Object(a.useState)(!0),E=Object(i.a)(T,2),P=E[0],F=E[1];function B(e){F(e.target.closest("form").checkValidity())}return Object(h.jsxs)(y,{isOpen:e.isRegisterPopupOpen,buttonText:"Sign up",onClose:e.onClose,title:"Sign up",link:"Sign in",linkClick:e.linkClick,handleSubmit:function(t){t.preventDefault(),e.handleSubmit({email:l,password:w,name:x}),d(""),I(""),g("")},valid:P,message:e.message,children:[Object(h.jsx)(C,{type:"email",name:"Email",form:"sign-up",handleChange:function(e){d(e.target.value),s(function(e){return/\S+@\S+\.\S+/.test(e)}(l)),B(e)},errorText:"Invalid email address",placeholderText:"Enter email",valid:c,minlength:"2",noValidate:!0,value:l,maxlength:"40"}),Object(h.jsx)(C,{minlength:"2",valid:v,errorText:"Password requires additional characters",noValidate:!0,value:w,maxlength:"200",type:"password",name:"Password",form:"sign-up",handleChange:function(e){I(e.target.value),w.length>6?N(!0):N(!1),B(e)},placeholderText:"Enter Password"}),Object(h.jsx)(C,{minlength:"2",errorText:"name required",noValidate:!0,value:x,maxlength:"200",type:"text",name:"Name",form:"sign-up",handleChange:function(e){g(e.target.value),m(!0),B(e)},valid:b,placeholderText:"Enter Name"})]})}function T(e){var t=Object(a.useState)(!0),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),o=Object(i.a)(r,2),l=o[0],d=o[1],j=Object(a.useState)(!1),u=Object(i.a)(j,2),b=u[0],m=u[1],O=Object(a.useState)(""),_=Object(i.a)(O,2),x=_[0],g=_[1],f=Object(a.useState)(!1),p=Object(i.a)(f,2),v=p[0],N=p[1];function S(e){N(e.target.closest("form").checkValidity())}return Object(h.jsxs)(y,{isOpen:e.isLoginPopupOpen,buttonText:"Sign in",onClose:e.onClose,title:"Sign in",link:"Sign up",linkClick:e.linkClick,handleSubmit:function(t){t.preventDefault(),e.handleSubmit({email:l,password:x}),d(""),g("")},valid:v,message:e.message,children:[Object(h.jsx)(C,{type:"email",name:"Email",form:"sign-in",handleChange:function(e){d(e.target.value),s(function(e){return/\S+@\S+\.\S+/.test(e)}(l)),S(e)},errorText:"Invalid email address",valid:c,placeholderText:"Enter email",minlength:"2",noValidate:!0,value:l,maxlength:"40"}),Object(h.jsx)(C,{type:"password",name:"Password",form:"sign-in",handleChange:function(e){g(e.target.value),x.length>7&&m(!0),S(e)},placeholderText:"Enter Password",valid:b,minlength:"2",errorText:"Password requires additional characters",noValidate:!0,value:x,maxlength:"200"})]})}n(43);function E(e){return Object(h.jsx)("header",{className:"header ",children:Object(h.jsxs)("div",{className:"header__container ".concat(e.headerBg),children:[Object(h.jsx)("p",{className:"header__title ".concat(e.headerTitle),children:"NewsExplorer"}),Object(h.jsx)("div",{className:"header__nav",children:e.children})]})})}n(44);var P=n.p+"static/media/avatar.b0b75056.png";var F=function(){return Object(h.jsx)("section",{className:"about",children:Object(h.jsxs)("div",{className:"about_container",children:[Object(h.jsx)("img",{src:P,alt:"avatar",className:"about__pic"}),Object(h.jsxs)("div",{className:"about__text",children:[Object(h.jsx)("h2",{className:"about__text-title",children:"About the author"}),Object(h.jsx)("p",{className:"about__text-body",children:"This block describes the project author. Here you should indicate your name, what you do, and which development technologies you know."}),Object(h.jsx)("p",{className:"about__text-body",children:"You can also talk about your experience with Practicum, what you learned there, and how you can help potential customers."})]})]})})},B=(n(45),n(23)),L=n(24),D=n(28),A=n(25),M=(n(46),function(e){Object(D.a)(n,e);var t=Object(A.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(L.a)(n,[{key:"render",value:function(){return Object(h.jsx)("footer",{className:"footer",children:Object(h.jsxs)("div",{className:"footer__container",children:[Object(h.jsx)("div",{className:"footer__copyright_container",children:Object(h.jsx)("p",{className:"footer__copyright",children:"\xa9 2021 Supersite, Powered by News API"})}),Object(h.jsxs)("nav",{className:"footer__content",children:[Object(h.jsxs)("ul",{className:"footer__links_container",children:[Object(h.jsx)("li",{className:"footer__links-item",children:Object(h.jsx)(o.b,{className:"footer__link",to:"/",children:Object(h.jsx)("p",{className:"footer__links",children:"Home"})})}),Object(h.jsx)("li",{className:"footer__links-item",children:Object(h.jsx)("a",{className:"footer__link",href:"https://practicum.yandex.com/",target:"_",rel:"noreferrer",children:Object(h.jsx)("p",{className:"footer__links",children:"Practicum by Yandex"})})})]}),Object(h.jsxs)("ul",{className:"footer__links_container footer__links_container_social",children:[Object(h.jsx)("li",{className:"footer__links-item",children:Object(h.jsx)("a",{href:"https://www.facebook.com/",target:"_",rel:"noreferrer",children:Object(h.jsx)("div",{className:"footer__social-icon footer__social-icon_facebook "})})}),Object(h.jsx)("li",{className:"footer__links-item",children:Object(h.jsx)("a",{href:"https://github.com/",target:"_",rel:"noreferrer",children:Object(h.jsx)("div",{className:"footer__social-icon footer__social-icon_github"})})})]})]})]})})}}]),n}(c.a.Component));n(47);var J=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(!0),o=Object(i.a)(r,2),l=o[0],d=o[1],j=document.querySelector(".search-bar__input");function u(){j.style.pointerEvents="auto",j.disabled=!1}return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("section",{className:"search-form",children:Object(h.jsxs)("div",{className:"search-form_container",children:[Object(h.jsx)("h1",{className:"search-form__title",children:"What's going on in the world?"}),Object(h.jsx)("p",{className:"search-form__subtitle",children:"Find the latest news on any topic and save them in your personal account."}),Object(h.jsxs)("div",{className:"search-bar__container",children:[Object(h.jsxs)("form",{className:"search-bar__form",onSubmit:function(t){t.preventDefault(),j.style.pointerEvents="none",j.disabled=!0,c?(e.onSearch(c),setTimeout(u,1e3),s("")):u()},children:[Object(h.jsx)("input",{onChange:function(e){s(e.target.value),""!==c&&(d(!0),document.querySelector(".search-bar__button").disabled=!1)},onFocus:function(){return d(!1)},className:"search-bar__input",placeholder:"Enter topic",value:c}),Object(h.jsx)("button",{className:"search-bar__button ".concat(l?"":"search-bar__button_disabled"),type:"submit",disabled:!0,children:"Search"})]}),Object(h.jsx)("span",{className:"form__input-error ".concat(l?"":"form__input-error_visible"),id:"name-input-error",children:"Please enter a keyword"})]})]})})})};n(48),n(20);function R(e){var t=e.loggedIn?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(o.b,{onClick:e.onClose,to:"/main",className:"navigator__link",children:"Home"}),Object(h.jsx)(o.b,{onClick:e.onClose,to:"/savedNewsPage",className:"navigator__link navigator__link_bottom",children:"Saved articles"})]}):Object(h.jsx)(o.b,{onClick:e.onClose,to:"/main",className:"navigator__link ",children:"Home"});return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"navigator ".concat(e.isOpen?"":"navigator_hidden"),children:[Object(h.jsx)(E,{headerTitle:x,headerBg:"header__container_black",children:Object(h.jsx)("button",{onClick:e.onNavBarClick,className:"header__icon ".concat("header__icon_x")})}),Object(h.jsx)("div",{className:"navigator_container",children:Object(h.jsx)("div",{className:"navigator__drawer ",children:Object(h.jsxs)("div",{className:"navigator__links",children:[t,Object(h.jsx)("button",{onClick:e.loggedIn?e.onLogOut:e.onSignIn,className:"header__button",children:e.loggedIn?"Log out":"Sign in"})]})})})]})})}var q=function(e){var t=window.matchMedia(e),n=Object(a.useState)(t.matches),c=Object(i.a)(n,2),s=c[0],r=c[1];return Object(a.useEffect)((function(){var e=function(e){return r(e.matches)};return t.addListener(e),function(){return t.removeListener(e)}})),s};n(49);function H(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("section",{className:"search",children:Object(h.jsx)("div",{className:"search__container",children:e.children})})})}function V(e){var t=c.a.useContext(d),n=q("(max-width: 750px)"),a=(q("(max-width: 1140px)"),e.loggedIn?Object(h.jsx)(o.b,{onClick:e.onSavedNewsClick,to:"savedNewsPage",className:"header__saved-articles ",children:"Saved articles"}):null),s=e.loggedIn?Object(h.jsxs)("button",{onClick:e.onLogOut,className:"header__button header__button_white",children:[t.name,Object(h.jsx)("div",{className:"header__icon "})]}):Object(h.jsx)("button",{onClick:e.onSignIn,className:"header__button header__button_white header__button_sign-in",children:"Sign in"});return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("main",{className:"main",children:[Object(h.jsxs)("div",{className:"search-form__pic",children:[n?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(E,{headerTitle:x,headerBg:f,children:Object(h.jsx)("button",{onClick:e.onNavBarClick,className:"header__icon ".concat("header__icon_hamburger_white")})}),Object(h.jsx)(R,{isOpen:e.isOpen,onNavBarClick:e.onNavBarClick,onSignIn:e.onSignIn,isSaved:e.isSaved,loggedIn:e.loggedIn,onLogOut:e.onLogOut,onSavedNewsClick:e.onSavedNewsClick,onClose:e.onClose})]}):Object(h.jsxs)(E,{headerTitle:x,headerBg:f,children:[Object(h.jsx)("p",{className:"header__home header__home_underlined ",children:"Home"}),a,s]}),Object(h.jsx)(J,{onSearch:e.onSearch})]}),!e.noSearch&&Object(h.jsx)(H,{isSaved:e.isSaved,loggedIn:e.loggedIn,buttonType:"card__save-btn",children:e.children}),Object(h.jsx)(F,{}),Object(h.jsx)(M,{})]})})}var Y=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=(n[0],n[1]),s=Object(a.useState)(!1),r=Object(i.a)(s,2),o=(r[0],r[1],Object(a.useState)(!1)),l=Object(i.a)(o,2),d=l[0],j=l[1];return Object(h.jsxs)("li",{className:"card",children:[Object(h.jsx)("div",{className:"card__top-left_container",children:Object(h.jsx)("div",{className:"card__tag_container",children:Object(h.jsx)("p",{className:"card__tag_text",children:e.keyword})})}),Object(h.jsxs)("div",{className:"card__top-right_container",children:[d&&Object(h.jsx)("div",{className:"card__hoverbox",children:Object(h.jsx)("p",{className:"card__hoverbox-text",children:"Remove from saved"})}),Object(h.jsx)("div",{className:"card___container"}),Object(h.jsx)("div",{className:"card__icon-text_container",onMouseEnter:function(){return j(!0)},onMouseLeave:function(){return j(!1)},children:Object(h.jsx)("button",{className:"card__delete-btn",onClick:function(t){t.preventDefault(),e.cardId&&(c(e.cardId),b(e.cardId).then((function(){e.onDelete(e.cardId)})).catch((function(e){return console.log(e)})))}})})]}),Object(h.jsx)("img",{src:e.image,className:"card__pic",alt:e.title}),Object(h.jsxs)("div",{className:"card__text",children:[Object(h.jsx)("p",{className:"card__date",children:function(){var t=e.date,n=null===t||void 0===t?void 0:t.slice(0,10),a=new Date(n);return"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()]," ").concat(a.getDate(),",  ").concat(a.getFullYear())}()}),Object(h.jsx)("h2",{className:"card__title",children:e.title}),Object(h.jsx)("p",{className:"card__paragraph",children:e.text}),Object(h.jsx)("p",{className:"card__source",children:e.source})]})]})};function z(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"search__title",children:"Search results"}),Object(h.jsx)("section",{className:"cards",children:Object(h.jsx)("ul",{className:"cards__list",children:e.savedCards?e.savedCards.map((function(t,n){return Object(h.jsx)(Y,{keyword:t.keyword,title:t.title,text:t.text,date:t.date,source:t.source,link:t.link,image:t.image,loggedIn:e.loggedIn,cardId:t._id,onDelete:e.onChange},n)})):null})})]})}n(50);function G(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"saved-articles\n    ",children:e.children})})}var K=function(e){var t=c.a.useContext(d),n=q("(max-width: 750px)"),s=(q("(max-width: 1140px)"),Object(a.useState)([])),r=Object(i.a)(s,2),l=r[0],b=r[1],m=Object(a.useState)(0),O=Object(i.a)(m,2),x=O[0],f=O[1];return Object(a.useEffect)((function(){(function(){var e=localStorage.getItem("jwt");return fetch(j+"/articles",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return u(e)}))})().then((function(e){b(e),e&&f(e.length)})).catch((function(e){return console.log(e)}))}),[x]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"saved-news",children:[n?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(E,{headerTitle:_,headerBg:g,children:Object(h.jsx)("button",{onClick:e.onNavBarClick,className:"header__icon ".concat("header__icon_hamburger_black")})}),Object(h.jsx)(R,{isOpen:e.isOpen,onNavBarClick:e.onNavBarClick,onSignIn:e.onSignIn,isSaved:e.isSaved,loggedIn:e.loggedIn,onLogOut:e.onLogOut,onSavedNewsClick:e.onSavedNewsClick,onClose:e.onClose})]}):Object(h.jsxs)(E,{headerTitle:_,headerBg:g,children:[Object(h.jsx)(o.b,{onClick:e.onHomeClick,to:"/main",className:"header__home header__home_black",children:"Home"}),Object(h.jsx)("p",{className:"header__saved-articles header__saved-articles_underlined",children:"Saved articles"}),Object(h.jsxs)("button",{onClick:e.onLogOut,className:"header__button header__button_black",children:[t.name,Object(h.jsx)("div",{className:"header__icon header__icon_black"})]})]}),Object(h.jsxs)("div",{className:"saved-news__intro",children:[Object(h.jsx)("p",{className:"saved-news__subtitle",children:"Saved articles"}),Object(h.jsxs)("h1",{className:"saved-news__title",children:[t.name,", you have ",x," saved articles"]}),Object(h.jsxs)("p",{className:"saved-news__keywords",children:["By keywords:"," ",Object(h.jsx)("span",{className:"saved-news__keywords_span",children:l?function(){var e=[];l.forEach((function(t){e.push(t.keyword)}));var t=function(e){var t={};return e.forEach((function(e){t[e]=0})),e.filter((function(e){return 1===++t[e]})).sort((function(e,n){return t[n]-t[e]}))}(e),n=t.join(", ");return t.length<=3?n:t.slice(0,2).join(", ")+", and ".concat(t.length-2," others")}():null})]})]}),Object(h.jsx)(G,{children:Object(h.jsx)(z,{loggedIn:!0,savedCards:l,onChange:function(e){var t=l.filter((function(t){return t._id!==e}));b(t),f(x-1)}})}),Object(h.jsx)(M,{})]})})},W=n(26),Q=n(27),U=function(e){var t=e.component,n=Object(Q.a)(e,["component"]);return Object(a.useEffect)((function(){n.loggedIn||n.signInRedirect()})),Object(h.jsx)(l.b,{children:function(){return n.loggedIn?Object(h.jsx)(t,Object(W.a)({},n)):Object(h.jsx)(l.a,{to:"/"})}})};n(51);var X=function(){var e=Object(l.g)(),t=(localStorage.getItem("token"),Object(a.useState)([])),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(!1),o=Object(i.a)(r,2),j=(o[0],o[1]),u=Object(a.useState)(!1),b=Object(i.a)(u,2),m=b[0],_=b[1],x=Object(a.useState)(!1),g=Object(i.a)(x,2),f=g[0],C=g[1],y=Object(a.useState)(!1),E=Object(i.a)(y,2),P=(E[0],E[1]),F=Object(a.useState)({}),B=Object(i.a)(F,2),L=B[0],D=B[1],A=Object(a.useState)(!1),M=Object(i.a)(A,2),J=M[0],R=M[1],q=Object(a.useState)(""),H=Object(i.a)(q,2),Y=(H[0],H[1],Object(a.useState)("")),z=Object(i.a)(Y,2),G=(z[0],z[1],Object(a.useState)("")),W=Object(i.a)(G,2),Q=(W[0],W[1],Object(a.useState)("")),X=Object(i.a)(Q,2),Z=X[0],$=X[1],ee=Object(a.useState)(!1),te=Object(i.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)(!1),se=Object(i.a)(ce,2),re=se[0],oe=se[1],ie=Object(a.useState)(!0),le=Object(i.a)(ie,2),de=le[0],je=le[1],ue=Object(a.useState)(!1),be=Object(i.a)(ue,2),he=be[0],me=be[1];function Oe(e){e.preventDefault(),je(!de)}function _e(){P(!0),_(!0),C(!1)}function xe(){ae(!0)}function ge(){localStorage.removeItem("token"),e.push("/main"),R(!1),D({}),fe(),s([]),De(!1),Re(!0)}function fe(){j(!1),ae(!1),_(!1),C(!1),P(!1),je(!0),s([]),De(!1),Re(!0)}var pe=Object(a.useState)(""),ve=Object(i.a)(pe,2),Ne=ve[0],Se=ve[1],ke=Object(a.useState)(!0),we=Object(i.a)(ke,2),Ce=we[0],ye=we[1],Ie=Object(a.useState)(!1),Te=Object(i.a)(Ie,2),Ee=Te[0],Pe=Te[1],Fe=Object(a.useState)(!1),Be=Object(i.a)(Fe,2),Le=Be[0],De=Be[1],Ae=Object(a.useState)(!0),Me=Object(i.a)(Ae,2),Je=Me[0],Re=Me[1],qe=Object(a.useState)(!0),He=Object(i.a)(qe,2),Ve=He[0],Ye=He[1];return Object(a.useEffect)((function(){var t=localStorage.getItem("token");t&&function(e){return fetch(v+"/users/me",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(N).then((function(e){return e}))}(t).then((function(e){if(e)return D(e);$("400 - one or more of the fields were not provided")})).then(R(!0)).then((function(){e.push("/main")})).catch((function(e){console.log(e.message)}))}),[e,J]),Object(a.useEffect)((function(){localStorage.getItem("token")&&e.push("/main")}),[e]),Object(h.jsx)("div",{className:"app",children:Object(h.jsxs)(d.Provider,{value:L,children:[Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{path:"/main",children:Object(h.jsxs)(V,{noSearch:Je,onSearch:function(e){Re(!1),Se(e),ye(!1),Pe(!1),De(!1),Ye(!0),p(e).then((function(e){s(e),Ye(!1),0===e.length?ye(!0):(ye(!1),De(!0))})).catch((function(e){Ye(!1),Pe(!0),console.log(e)}))},isSaved:he,isOpen:de,loggedIn:J,cards:c,component:V,onLogOut:ge,onSignIn:_e,onNavBarClick:Oe,onSavedNewsClick:function(){me(!0),s([]),De(!1),Re(!0)},onClose:fe,keyword:Ne,children:[Ce&&Object(h.jsx)(k,{noResults:!0,resultError:!1}),Le&&Object(h.jsx)(O,{cards:c,keyword:Ne,onSignIn:_e,loggedIn:J}),Ve&&Object(h.jsx)(w,{}),Ee&&Object(h.jsx)(k,{noResults:!1,resultError:!0})]})}),Object(h.jsx)(l.b,{path:"/savedNewsPage",children:Object(h.jsx)(U,{isSaved:he,onLogOut:ge,component:K,onNavBarClick:Oe,isOpen:de,onHomeClick:function(){me(!1)},loggedIn:J,onClose:fe,signInRedirect:_e})}),Object(h.jsx)(l.b,{exact:!0,path:"/",children:J?Object(h.jsx)(l.a,{to:"/savedNewsPage"}):Object(h.jsx)(l.a,{to:"/main"})}),Object(h.jsx)(l.b,{path:"/*",children:Object(h.jsx)(l.a,{to:"/"})})]}),Object(h.jsx)(T,{isLoginPopupOpen:m,handleSubmit:function(t){var n=t.email,a=t.password;s([]),Re(!0),De(!1),n&&a||($("400 - one or more of the fields were not provided"),oe(!1),xe()),function(e,t){return fetch(v+"/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(N).then((function(e){if(e.token)return localStorage.setItem("token",e.token),e}))}(n,a).then((function(e){R(!0),D(e)})).then((function(){e.push("/"),fe()})).catch((function(){oe(!1),$("Oops, something went wrong! Please try again."),xe()}))},onClose:fe,linkClick:function(e){e.preventDefault(),P(!0),_(!1),C(!0)}}),Object(h.jsx)(I,{isRegisterPopupOpen:f,handleSubmit:function(t){var n=t.email,a=t.password,c=t.name;a&&n&&c&&function(e,t,n){return fetch(v+"/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:n})}).then(N).then((function(e){return e}))}(n,a,c).then((function(e){return oe(!0),$("Success! You have now been registered."),xe(),e})).then(e.push("/login")).catch((function(e){400===e.status?($("One of the fields was filled in incorrectly"),oe(!1),xe()):403===e.status&&($("This user already exists!"),oe(!1),xe())}))},onClose:fe,linkClick:function(e){e.preventDefault(),_(!0),C(!1),P(!0)}}),Object(h.jsx)(S,{isOpen:ne,isItSuccess:re,onClose:fe,message:Z})]})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(o.a,{children:Object(h.jsx)(X,{})})}),document.getElementById("root")),Z()}],[[52,1,2]]]);
//# sourceMappingURL=main.3e2df232.chunk.js.map